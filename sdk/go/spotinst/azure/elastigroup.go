// *** WARNING: this file was generated by the Pulumi Terraform Bridge (tfgen) Tool. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

// nolint: lll
package azure

import (
	"reflect"

	"github.com/pkg/errors"
	"github.com/pulumi/pulumi/sdk/go/pulumi"
)

// Provides a Spotinst elastigroup Azure resource.
//
// > This content is derived from https://github.com/terraform-providers/terraform-provider-spotinst/blob/master/website/docs/r/elastigroup_azure.html.markdown.
type Elastigroup struct {
	pulumi.CustomResourceState

	CustomData pulumi.StringPtrOutput `pulumi:"customData"`
	// The desired number of instances the group should have at any time.
	DesiredCapacity          pulumi.IntPtrOutput                          `pulumi:"desiredCapacity"`
	HealthCheck              ElastigroupHealthCheckPtrOutput              `pulumi:"healthCheck"`
	Images                   ElastigroupImageArrayOutput                  `pulumi:"images"`
	IntegrationKubernetes    ElastigroupIntegrationKubernetesPtrOutput    `pulumi:"integrationKubernetes"`
	IntegrationMultaiRuntime ElastigroupIntegrationMultaiRuntimePtrOutput `pulumi:"integrationMultaiRuntime"`
	LoadBalancers            ElastigroupLoadBalancerArrayOutput           `pulumi:"loadBalancers"`
	Login                    ElastigroupLoginPtrOutput                    `pulumi:"login"`
	// Available Low-Priority sizes.
	LowPrioritySizes         pulumi.StringArrayOutput                     `pulumi:"lowPrioritySizes"`
	ManagedServiceIdentities ElastigroupManagedServiceIdentityArrayOutput `pulumi:"managedServiceIdentities"`
	// The maximum number of instances the group should have at any time.
	MaxSize pulumi.IntOutput `pulumi:"maxSize"`
	// The minimum number of instances the group should have at any time.
	MinSize pulumi.IntOutput `pulumi:"minSize"`
	// The name of the managed identity.
	Name    pulumi.StringOutput      `pulumi:"name"`
	Network ElastigroupNetworkOutput `pulumi:"network"`
	// Available On-Demand sizes
	OdSizes pulumi.StringArrayOutput `pulumi:"odSizes"`
	// Operation system type. Valid values: `"Linux"`, `"Windows"`.
	Product pulumi.StringOutput `pulumi:"product"`
	// The region your Azure group will be created in.
	Region pulumi.StringOutput `pulumi:"region"`
	// The Resource Group that the user-assigned managed identity resides in.
	ResourceGroupName   pulumi.StringOutput                     `pulumi:"resourceGroupName"`
	ScalingDownPolicies ElastigroupScalingDownPolicyArrayOutput `pulumi:"scalingDownPolicies"`
	ScalingUpPolicies   ElastigroupScalingUpPolicyArrayOutput   `pulumi:"scalingUpPolicies"`
	ScheduledTasks      ElastigroupScheduledTaskArrayOutput     `pulumi:"scheduledTasks"`
	// Shutdown script for the group. Value should be passed as a string encoded at Base64 only.
	ShutdownScript pulumi.StringPtrOutput `pulumi:"shutdownScript"`
	// Describes the deployment strategy.
	Strategy     ElastigroupStrategyOutput        `pulumi:"strategy"`
	UpdatePolicy ElastigroupUpdatePolicyPtrOutput `pulumi:"updatePolicy"`
	// Base64-encoded MIME user data to make available to the instances.
	UserData pulumi.StringPtrOutput `pulumi:"userData"`
}

// NewElastigroup registers a new resource with the given unique name, arguments, and options.
func NewElastigroup(ctx *pulumi.Context,
	name string, args *ElastigroupArgs, opts ...pulumi.ResourceOption) (*Elastigroup, error) {
	if args == nil || args.LowPrioritySizes == nil {
		return nil, errors.New("missing required argument 'LowPrioritySizes'")
	}
	if args == nil || args.Network == nil {
		return nil, errors.New("missing required argument 'Network'")
	}
	if args == nil || args.OdSizes == nil {
		return nil, errors.New("missing required argument 'OdSizes'")
	}
	if args == nil || args.Product == nil {
		return nil, errors.New("missing required argument 'Product'")
	}
	if args == nil || args.Region == nil {
		return nil, errors.New("missing required argument 'Region'")
	}
	if args == nil || args.ResourceGroupName == nil {
		return nil, errors.New("missing required argument 'ResourceGroupName'")
	}
	if args == nil || args.Strategy == nil {
		return nil, errors.New("missing required argument 'Strategy'")
	}
	if args == nil {
		args = &ElastigroupArgs{}
	}
	var resource Elastigroup
	err := ctx.RegisterResource("spotinst:azure/elastigroup:Elastigroup", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetElastigroup gets an existing Elastigroup resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetElastigroup(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *ElastigroupState, opts ...pulumi.ResourceOption) (*Elastigroup, error) {
	var resource Elastigroup
	err := ctx.ReadResource("spotinst:azure/elastigroup:Elastigroup", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering Elastigroup resources.
type elastigroupState struct {
	CustomData *string `pulumi:"customData"`
	// The desired number of instances the group should have at any time.
	DesiredCapacity          *int                                 `pulumi:"desiredCapacity"`
	HealthCheck              *ElastigroupHealthCheck              `pulumi:"healthCheck"`
	Images                   []ElastigroupImage                   `pulumi:"images"`
	IntegrationKubernetes    *ElastigroupIntegrationKubernetes    `pulumi:"integrationKubernetes"`
	IntegrationMultaiRuntime *ElastigroupIntegrationMultaiRuntime `pulumi:"integrationMultaiRuntime"`
	LoadBalancers            []ElastigroupLoadBalancer            `pulumi:"loadBalancers"`
	Login                    *ElastigroupLogin                    `pulumi:"login"`
	// Available Low-Priority sizes.
	LowPrioritySizes         []string                            `pulumi:"lowPrioritySizes"`
	ManagedServiceIdentities []ElastigroupManagedServiceIdentity `pulumi:"managedServiceIdentities"`
	// The maximum number of instances the group should have at any time.
	MaxSize *int `pulumi:"maxSize"`
	// The minimum number of instances the group should have at any time.
	MinSize *int `pulumi:"minSize"`
	// The name of the managed identity.
	Name    *string             `pulumi:"name"`
	Network *ElastigroupNetwork `pulumi:"network"`
	// Available On-Demand sizes
	OdSizes []string `pulumi:"odSizes"`
	// Operation system type. Valid values: `"Linux"`, `"Windows"`.
	Product *string `pulumi:"product"`
	// The region your Azure group will be created in.
	Region *string `pulumi:"region"`
	// The Resource Group that the user-assigned managed identity resides in.
	ResourceGroupName   *string                        `pulumi:"resourceGroupName"`
	ScalingDownPolicies []ElastigroupScalingDownPolicy `pulumi:"scalingDownPolicies"`
	ScalingUpPolicies   []ElastigroupScalingUpPolicy   `pulumi:"scalingUpPolicies"`
	ScheduledTasks      []ElastigroupScheduledTask     `pulumi:"scheduledTasks"`
	// Shutdown script for the group. Value should be passed as a string encoded at Base64 only.
	ShutdownScript *string `pulumi:"shutdownScript"`
	// Describes the deployment strategy.
	Strategy     *ElastigroupStrategy     `pulumi:"strategy"`
	UpdatePolicy *ElastigroupUpdatePolicy `pulumi:"updatePolicy"`
	// Base64-encoded MIME user data to make available to the instances.
	UserData *string `pulumi:"userData"`
}

type ElastigroupState struct {
	CustomData pulumi.StringPtrInput
	// The desired number of instances the group should have at any time.
	DesiredCapacity          pulumi.IntPtrInput
	HealthCheck              ElastigroupHealthCheckPtrInput
	Images                   ElastigroupImageArrayInput
	IntegrationKubernetes    ElastigroupIntegrationKubernetesPtrInput
	IntegrationMultaiRuntime ElastigroupIntegrationMultaiRuntimePtrInput
	LoadBalancers            ElastigroupLoadBalancerArrayInput
	Login                    ElastigroupLoginPtrInput
	// Available Low-Priority sizes.
	LowPrioritySizes         pulumi.StringArrayInput
	ManagedServiceIdentities ElastigroupManagedServiceIdentityArrayInput
	// The maximum number of instances the group should have at any time.
	MaxSize pulumi.IntPtrInput
	// The minimum number of instances the group should have at any time.
	MinSize pulumi.IntPtrInput
	// The name of the managed identity.
	Name    pulumi.StringPtrInput
	Network ElastigroupNetworkPtrInput
	// Available On-Demand sizes
	OdSizes pulumi.StringArrayInput
	// Operation system type. Valid values: `"Linux"`, `"Windows"`.
	Product pulumi.StringPtrInput
	// The region your Azure group will be created in.
	Region pulumi.StringPtrInput
	// The Resource Group that the user-assigned managed identity resides in.
	ResourceGroupName   pulumi.StringPtrInput
	ScalingDownPolicies ElastigroupScalingDownPolicyArrayInput
	ScalingUpPolicies   ElastigroupScalingUpPolicyArrayInput
	ScheduledTasks      ElastigroupScheduledTaskArrayInput
	// Shutdown script for the group. Value should be passed as a string encoded at Base64 only.
	ShutdownScript pulumi.StringPtrInput
	// Describes the deployment strategy.
	Strategy     ElastigroupStrategyPtrInput
	UpdatePolicy ElastigroupUpdatePolicyPtrInput
	// Base64-encoded MIME user data to make available to the instances.
	UserData pulumi.StringPtrInput
}

func (ElastigroupState) ElementType() reflect.Type {
	return reflect.TypeOf((*elastigroupState)(nil)).Elem()
}

type elastigroupArgs struct {
	CustomData *string `pulumi:"customData"`
	// The desired number of instances the group should have at any time.
	DesiredCapacity          *int                                 `pulumi:"desiredCapacity"`
	HealthCheck              *ElastigroupHealthCheck              `pulumi:"healthCheck"`
	Images                   []ElastigroupImage                   `pulumi:"images"`
	IntegrationKubernetes    *ElastigroupIntegrationKubernetes    `pulumi:"integrationKubernetes"`
	IntegrationMultaiRuntime *ElastigroupIntegrationMultaiRuntime `pulumi:"integrationMultaiRuntime"`
	LoadBalancers            []ElastigroupLoadBalancer            `pulumi:"loadBalancers"`
	Login                    *ElastigroupLogin                    `pulumi:"login"`
	// Available Low-Priority sizes.
	LowPrioritySizes         []string                            `pulumi:"lowPrioritySizes"`
	ManagedServiceIdentities []ElastigroupManagedServiceIdentity `pulumi:"managedServiceIdentities"`
	// The maximum number of instances the group should have at any time.
	MaxSize *int `pulumi:"maxSize"`
	// The minimum number of instances the group should have at any time.
	MinSize *int `pulumi:"minSize"`
	// The name of the managed identity.
	Name    *string            `pulumi:"name"`
	Network ElastigroupNetwork `pulumi:"network"`
	// Available On-Demand sizes
	OdSizes []string `pulumi:"odSizes"`
	// Operation system type. Valid values: `"Linux"`, `"Windows"`.
	Product string `pulumi:"product"`
	// The region your Azure group will be created in.
	Region string `pulumi:"region"`
	// The Resource Group that the user-assigned managed identity resides in.
	ResourceGroupName   string                         `pulumi:"resourceGroupName"`
	ScalingDownPolicies []ElastigroupScalingDownPolicy `pulumi:"scalingDownPolicies"`
	ScalingUpPolicies   []ElastigroupScalingUpPolicy   `pulumi:"scalingUpPolicies"`
	ScheduledTasks      []ElastigroupScheduledTask     `pulumi:"scheduledTasks"`
	// Shutdown script for the group. Value should be passed as a string encoded at Base64 only.
	ShutdownScript *string `pulumi:"shutdownScript"`
	// Describes the deployment strategy.
	Strategy     ElastigroupStrategy      `pulumi:"strategy"`
	UpdatePolicy *ElastigroupUpdatePolicy `pulumi:"updatePolicy"`
	// Base64-encoded MIME user data to make available to the instances.
	UserData *string `pulumi:"userData"`
}

// The set of arguments for constructing a Elastigroup resource.
type ElastigroupArgs struct {
	CustomData pulumi.StringPtrInput
	// The desired number of instances the group should have at any time.
	DesiredCapacity          pulumi.IntPtrInput
	HealthCheck              ElastigroupHealthCheckPtrInput
	Images                   ElastigroupImageArrayInput
	IntegrationKubernetes    ElastigroupIntegrationKubernetesPtrInput
	IntegrationMultaiRuntime ElastigroupIntegrationMultaiRuntimePtrInput
	LoadBalancers            ElastigroupLoadBalancerArrayInput
	Login                    ElastigroupLoginPtrInput
	// Available Low-Priority sizes.
	LowPrioritySizes         pulumi.StringArrayInput
	ManagedServiceIdentities ElastigroupManagedServiceIdentityArrayInput
	// The maximum number of instances the group should have at any time.
	MaxSize pulumi.IntPtrInput
	// The minimum number of instances the group should have at any time.
	MinSize pulumi.IntPtrInput
	// The name of the managed identity.
	Name    pulumi.StringPtrInput
	Network ElastigroupNetworkInput
	// Available On-Demand sizes
	OdSizes pulumi.StringArrayInput
	// Operation system type. Valid values: `"Linux"`, `"Windows"`.
	Product pulumi.StringInput
	// The region your Azure group will be created in.
	Region pulumi.StringInput
	// The Resource Group that the user-assigned managed identity resides in.
	ResourceGroupName   pulumi.StringInput
	ScalingDownPolicies ElastigroupScalingDownPolicyArrayInput
	ScalingUpPolicies   ElastigroupScalingUpPolicyArrayInput
	ScheduledTasks      ElastigroupScheduledTaskArrayInput
	// Shutdown script for the group. Value should be passed as a string encoded at Base64 only.
	ShutdownScript pulumi.StringPtrInput
	// Describes the deployment strategy.
	Strategy     ElastigroupStrategyInput
	UpdatePolicy ElastigroupUpdatePolicyPtrInput
	// Base64-encoded MIME user data to make available to the instances.
	UserData pulumi.StringPtrInput
}

func (ElastigroupArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*elastigroupArgs)(nil)).Elem()
}
