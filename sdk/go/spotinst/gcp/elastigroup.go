// Code generated by the Pulumi Terraform Bridge (tfgen) Tool DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package gcp

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Provides a Spotinst elastigroup GCP resource.
//
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-spotinst/sdk/v3/go/spotinst/gcp"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := gcp.NewElastigroup(ctx, "example", &gcp.ElastigroupArgs{
//				AvailabilityZones: pulumi.StringArray{
//					pulumi.String("asia-east1-c"),
//					pulumi.String("us-central1-a"),
//				},
//				BackendServices: gcp.ElastigroupBackendServiceArray{
//					&gcp.ElastigroupBackendServiceArgs{
//						LocationType: pulumi.String("regional"),
//						NamedPorts: gcp.ElastigroupBackendServiceNamedPortArray{
//							&gcp.ElastigroupBackendServiceNamedPortArgs{
//								Name: pulumi.String("port-name"),
//								Ports: pulumi.StringArray{
//									pulumi.String("8000"),
//									pulumi.String("6000"),
//								},
//							},
//						},
//						Scheme:      pulumi.String("INTERNAL"),
//						ServiceName: pulumi.String("spotinst-elb-backend-service"),
//					},
//				},
//				Description:     pulumi.String("spotinst gcp group"),
//				DesiredCapacity: pulumi.Int(1),
//				Disks: gcp.ElastigroupDiskArray{
//					&gcp.ElastigroupDiskArgs{
//						AutoDelete: pulumi.Bool(true),
//						Boot:       pulumi.Bool(true),
//						DeviceName: pulumi.String("device"),
//						InitializeParams: gcp.ElastigroupDiskInitializeParamArray{
//							&gcp.ElastigroupDiskInitializeParamArgs{
//								DiskSizeGb:  pulumi.String("10"),
//								DiskType:    pulumi.String("pd-standard"),
//								SourceImage: pulumi.String(""),
//							},
//						},
//						Interface: pulumi.String("SCSI"),
//						Mode:      pulumi.String("READ_WRITE"),
//						Type:      pulumi.String("PERSISTENT"),
//					},
//				},
//				DrainingTimeout:    pulumi.Int(180),
//				FallbackToOndemand: pulumi.Bool(true),
//				InstanceTypesCustoms: gcp.ElastigroupInstanceTypesCustomArray{
//					&gcp.ElastigroupInstanceTypesCustomArgs{
//						MemoryGib: pulumi.Int(7),
//						Vcpu:      pulumi.Int(2),
//					},
//				},
//				InstanceTypesOndemand: pulumi.String("n1-standard-1"),
//				InstanceTypesPreemptibles: pulumi.StringArray{
//					pulumi.String("n1-standard-1"),
//					pulumi.String("n1-standard-2"),
//				},
//				Labels: gcp.ElastigroupLabelArray{
//					&gcp.ElastigroupLabelArgs{
//						Key:   pulumi.String("test_key"),
//						Value: pulumi.String("test_value"),
//					},
//				},
//				MaxSize: pulumi.Int(1),
//				MinSize: pulumi.Int(0),
//				NetworkInterfaces: gcp.ElastigroupNetworkInterfaceArray{
//					&gcp.ElastigroupNetworkInterfaceArgs{
//						Network: pulumi.String("spot-network"),
//					},
//				},
//				PreemptiblePercentage: pulumi.Int(50),
//				ProvisioningModel:     pulumi.String("SPOT"),
//				ScalingUpPolicies: gcp.ElastigroupScalingUpPolicyArray{
//					&gcp.ElastigroupScalingUpPolicyArgs{
//						ActionType: pulumi.String("adjustment"),
//						Adjustment: pulumi.Int(1),
//						Cooldown:   pulumi.Int(300),
//						Dimensions: gcp.ElastigroupScalingUpPolicyDimensionArray{
//							&gcp.ElastigroupScalingUpPolicyDimensionArgs{
//								Name:  pulumi.String("storage_type"),
//								Value: pulumi.String("pd-ssd"),
//							},
//						},
//						EvaluationPeriods: pulumi.Int(1),
//						MetricName:        pulumi.String("instance/disk/read_ops_count"),
//						Namespace:         pulumi.String("compute"),
//						Operator:          pulumi.String("gte"),
//						Period:            pulumi.Int(300),
//						PolicyName:        pulumi.String("scale_up_1"),
//						Source:            pulumi.String("stackdriver"),
//						Statistic:         pulumi.String("average"),
//						Threshold:         pulumi.Float64(10000),
//						Unit:              pulumi.String("percent"),
//					},
//				},
//				ServiceAccount: pulumi.String("example@myProject.iam.gservicecct.com"),
//				StartupScript:  pulumi.String(""),
//				Subnets: gcp.ElastigroupSubnetArray{
//					&gcp.ElastigroupSubnetArgs{
//						Region: pulumi.String("asia-east1"),
//						SubnetNames: pulumi.StringArray{
//							pulumi.String("default"),
//						},
//					},
//				},
//				Tags: pulumi.StringArray{
//					pulumi.String("http"),
//					pulumi.String("https"),
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
type Elastigroup struct {
	pulumi.CustomResourceState

	// Enable auto-replacement of unhealthy instances.
	AutoHealing pulumi.BoolPtrOutput `pulumi:"autoHealing"`
	// List of availability zones for the group.
	//
	// Deprecated: This field will soon be handled by Region in Subnets
	AvailabilityZones pulumi.StringArrayOutput             `pulumi:"availabilityZones"`
	BackendServices   ElastigroupBackendServiceArrayOutput `pulumi:"backendServices"`
	// The region your GCP group will be created in.
	Description pulumi.StringPtrOutput `pulumi:"description"`
	// The desired number of instances the group should have at any time.
	DesiredCapacity pulumi.IntOutput           `pulumi:"desiredCapacity"`
	Disks           ElastigroupDiskArrayOutput `pulumi:"disks"`
	// Time (seconds) the instance is allowed to run after it is detached from the group. This is to allow the instance time to drain all the current TCP connections before terminating it.
	DrainingTimeout pulumi.IntPtrOutput `pulumi:"drainingTimeout"`
	// Activate fallback-to-on-demand. When provisioning an instance, if no Preemptible market is available, fallback-to-on-demand will provision an On-Demand instance to maintain the group capacity.
	FallbackToOndemand pulumi.BoolPtrOutput      `pulumi:"fallbackToOndemand"`
	Gpu                ElastigroupGpuArrayOutput `pulumi:"gpu"`
	// Period of time (seconds) to wait for VM to reach healthiness before monitoring for unhealthiness.
	HealthCheckGracePeriod pulumi.IntPtrOutput `pulumi:"healthCheckGracePeriod"`
	// The kind of health check to perform when monitoring for unhealthiness.
	HealthCheckType pulumi.StringPtrOutput `pulumi:"healthCheckType"`
	// Defines a set of custom instance types. Required if instanceTypesPreemptible and instanceTypesOndemand are not set.
	InstanceTypesCustoms ElastigroupInstanceTypesCustomArrayOutput `pulumi:"instanceTypesCustoms"`
	// The regular VM instance type to use for mixed-type groups and when falling back to on-demand. Required if instanceTypesPreemptible is not set.
	InstanceTypesOndemand pulumi.StringPtrOutput `pulumi:"instanceTypesOndemand"`
	// The preemptible VMs instance type. To maximize cost savings and market availability, select as many types as possible. Required if instanceTypesOndemand is not set.
	InstanceTypesPreemptibles pulumi.StringArrayOutput `pulumi:"instanceTypesPreemptibles"`
	// Describes the [Docker Swarm](https://api.spotinst.com/integration-docs/elastigroup/container-management/docker-swarm/docker-swarm-integration/) integration.
	IntegrationDockerSwarm ElastigroupIntegrationDockerSwarmPtrOutput `pulumi:"integrationDockerSwarm"`
	IntegrationGke         ElastigroupIntegrationGkePtrOutput         `pulumi:"integrationGke"`
	IpForwarding           pulumi.BoolPtrOutput                       `pulumi:"ipForwarding"`
	// Array of objects with key-value pairs.
	Labels ElastigroupLabelArrayOutput `pulumi:"labels"`
	// The maximum number of instances the group should have at any time.
	MaxSize pulumi.IntOutput `pulumi:"maxSize"`
	// Array of objects with key-value pairs.
	Metadatas ElastigroupMetadataArrayOutput `pulumi:"metadatas"`
	// The minimum number of instances the group should have at any time.
	MinSize pulumi.IntOutput `pulumi:"minSize"`
	// The group name.
	Name pulumi.StringOutput `pulumi:"name"`
	// Array of objects representing the network configuration for the elastigroup.
	NetworkInterfaces ElastigroupNetworkInterfaceArrayOutput `pulumi:"networkInterfaces"`
	OndemandCount     pulumi.IntPtrOutput                    `pulumi:"ondemandCount"`
	// Percentage of Preemptible VMs to spin up from the "desiredCapacity".
	PreemptiblePercentage pulumi.IntPtrOutput `pulumi:"preemptiblePercentage"`
	// Valid values: "SPOT", "PREEMPTIBLE". Define the provisioning model of the launched instances. Default value is "PREEMPTIBLE".
	ProvisioningModel pulumi.StringPtrOutput `pulumi:"provisioningModel"`
	// Contains scaling policies for scaling the Elastigroup down.
	ScalingDownPolicies ElastigroupScalingDownPolicyArrayOutput `pulumi:"scalingDownPolicies"`
	// Contains scaling policies for scaling the Elastigroup up.
	ScalingUpPolicies ElastigroupScalingUpPolicyArrayOutput `pulumi:"scalingUpPolicies"`
	ScheduledTasks    ElastigroupScheduledTaskArrayOutput   `pulumi:"scheduledTasks"`
	// The email of the service account in which the group instances will be launched.
	ServiceAccount pulumi.StringPtrOutput `pulumi:"serviceAccount"`
	// The Base64-encoded shutdown script that executes prior to instance termination, for more information please see: [Shutdown Script](https://api.spotinst.com/integration-docs/elastigroup/concepts/compute-concepts/shutdown-scripts/)
	ShutdownScript pulumi.StringPtrOutput `pulumi:"shutdownScript"`
	// Create and run your own startup scripts on your virtual machines to perform automated tasks every time your instance boots up.
	StartupScript pulumi.StringPtrOutput `pulumi:"startupScript"`
	// A list of regions and subnets.
	Subnets ElastigroupSubnetArrayOutput `pulumi:"subnets"`
	// Tags to mark created instances.
	Tags pulumi.StringArrayOutput `pulumi:"tags"`
	// Period of time (seconds) to remain in an unhealthy status before a replacement is triggered.
	UnhealthyDuration pulumi.IntPtrOutput `pulumi:"unhealthyDuration"`
}

// NewElastigroup registers a new resource with the given unique name, arguments, and options.
func NewElastigroup(ctx *pulumi.Context,
	name string, args *ElastigroupArgs, opts ...pulumi.ResourceOption) (*Elastigroup, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.DesiredCapacity == nil {
		return nil, errors.New("invalid value for required argument 'DesiredCapacity'")
	}
	var resource Elastigroup
	err := ctx.RegisterResource("spotinst:gcp/elastigroup:Elastigroup", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetElastigroup gets an existing Elastigroup resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetElastigroup(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *ElastigroupState, opts ...pulumi.ResourceOption) (*Elastigroup, error) {
	var resource Elastigroup
	err := ctx.ReadResource("spotinst:gcp/elastigroup:Elastigroup", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering Elastigroup resources.
type elastigroupState struct {
	// Enable auto-replacement of unhealthy instances.
	AutoHealing *bool `pulumi:"autoHealing"`
	// List of availability zones for the group.
	//
	// Deprecated: This field will soon be handled by Region in Subnets
	AvailabilityZones []string                    `pulumi:"availabilityZones"`
	BackendServices   []ElastigroupBackendService `pulumi:"backendServices"`
	// The region your GCP group will be created in.
	Description *string `pulumi:"description"`
	// The desired number of instances the group should have at any time.
	DesiredCapacity *int              `pulumi:"desiredCapacity"`
	Disks           []ElastigroupDisk `pulumi:"disks"`
	// Time (seconds) the instance is allowed to run after it is detached from the group. This is to allow the instance time to drain all the current TCP connections before terminating it.
	DrainingTimeout *int `pulumi:"drainingTimeout"`
	// Activate fallback-to-on-demand. When provisioning an instance, if no Preemptible market is available, fallback-to-on-demand will provision an On-Demand instance to maintain the group capacity.
	FallbackToOndemand *bool            `pulumi:"fallbackToOndemand"`
	Gpu                []ElastigroupGpu `pulumi:"gpu"`
	// Period of time (seconds) to wait for VM to reach healthiness before monitoring for unhealthiness.
	HealthCheckGracePeriod *int `pulumi:"healthCheckGracePeriod"`
	// The kind of health check to perform when monitoring for unhealthiness.
	HealthCheckType *string `pulumi:"healthCheckType"`
	// Defines a set of custom instance types. Required if instanceTypesPreemptible and instanceTypesOndemand are not set.
	InstanceTypesCustoms []ElastigroupInstanceTypesCustom `pulumi:"instanceTypesCustoms"`
	// The regular VM instance type to use for mixed-type groups and when falling back to on-demand. Required if instanceTypesPreemptible is not set.
	InstanceTypesOndemand *string `pulumi:"instanceTypesOndemand"`
	// The preemptible VMs instance type. To maximize cost savings and market availability, select as many types as possible. Required if instanceTypesOndemand is not set.
	InstanceTypesPreemptibles []string `pulumi:"instanceTypesPreemptibles"`
	// Describes the [Docker Swarm](https://api.spotinst.com/integration-docs/elastigroup/container-management/docker-swarm/docker-swarm-integration/) integration.
	IntegrationDockerSwarm *ElastigroupIntegrationDockerSwarm `pulumi:"integrationDockerSwarm"`
	IntegrationGke         *ElastigroupIntegrationGke         `pulumi:"integrationGke"`
	IpForwarding           *bool                              `pulumi:"ipForwarding"`
	// Array of objects with key-value pairs.
	Labels []ElastigroupLabel `pulumi:"labels"`
	// The maximum number of instances the group should have at any time.
	MaxSize *int `pulumi:"maxSize"`
	// Array of objects with key-value pairs.
	Metadatas []ElastigroupMetadata `pulumi:"metadatas"`
	// The minimum number of instances the group should have at any time.
	MinSize *int `pulumi:"minSize"`
	// The group name.
	Name *string `pulumi:"name"`
	// Array of objects representing the network configuration for the elastigroup.
	NetworkInterfaces []ElastigroupNetworkInterface `pulumi:"networkInterfaces"`
	OndemandCount     *int                          `pulumi:"ondemandCount"`
	// Percentage of Preemptible VMs to spin up from the "desiredCapacity".
	PreemptiblePercentage *int `pulumi:"preemptiblePercentage"`
	// Valid values: "SPOT", "PREEMPTIBLE". Define the provisioning model of the launched instances. Default value is "PREEMPTIBLE".
	ProvisioningModel *string `pulumi:"provisioningModel"`
	// Contains scaling policies for scaling the Elastigroup down.
	ScalingDownPolicies []ElastigroupScalingDownPolicy `pulumi:"scalingDownPolicies"`
	// Contains scaling policies for scaling the Elastigroup up.
	ScalingUpPolicies []ElastigroupScalingUpPolicy `pulumi:"scalingUpPolicies"`
	ScheduledTasks    []ElastigroupScheduledTask   `pulumi:"scheduledTasks"`
	// The email of the service account in which the group instances will be launched.
	ServiceAccount *string `pulumi:"serviceAccount"`
	// The Base64-encoded shutdown script that executes prior to instance termination, for more information please see: [Shutdown Script](https://api.spotinst.com/integration-docs/elastigroup/concepts/compute-concepts/shutdown-scripts/)
	ShutdownScript *string `pulumi:"shutdownScript"`
	// Create and run your own startup scripts on your virtual machines to perform automated tasks every time your instance boots up.
	StartupScript *string `pulumi:"startupScript"`
	// A list of regions and subnets.
	Subnets []ElastigroupSubnet `pulumi:"subnets"`
	// Tags to mark created instances.
	Tags []string `pulumi:"tags"`
	// Period of time (seconds) to remain in an unhealthy status before a replacement is triggered.
	UnhealthyDuration *int `pulumi:"unhealthyDuration"`
}

type ElastigroupState struct {
	// Enable auto-replacement of unhealthy instances.
	AutoHealing pulumi.BoolPtrInput
	// List of availability zones for the group.
	//
	// Deprecated: This field will soon be handled by Region in Subnets
	AvailabilityZones pulumi.StringArrayInput
	BackendServices   ElastigroupBackendServiceArrayInput
	// The region your GCP group will be created in.
	Description pulumi.StringPtrInput
	// The desired number of instances the group should have at any time.
	DesiredCapacity pulumi.IntPtrInput
	Disks           ElastigroupDiskArrayInput
	// Time (seconds) the instance is allowed to run after it is detached from the group. This is to allow the instance time to drain all the current TCP connections before terminating it.
	DrainingTimeout pulumi.IntPtrInput
	// Activate fallback-to-on-demand. When provisioning an instance, if no Preemptible market is available, fallback-to-on-demand will provision an On-Demand instance to maintain the group capacity.
	FallbackToOndemand pulumi.BoolPtrInput
	Gpu                ElastigroupGpuArrayInput
	// Period of time (seconds) to wait for VM to reach healthiness before monitoring for unhealthiness.
	HealthCheckGracePeriod pulumi.IntPtrInput
	// The kind of health check to perform when monitoring for unhealthiness.
	HealthCheckType pulumi.StringPtrInput
	// Defines a set of custom instance types. Required if instanceTypesPreemptible and instanceTypesOndemand are not set.
	InstanceTypesCustoms ElastigroupInstanceTypesCustomArrayInput
	// The regular VM instance type to use for mixed-type groups and when falling back to on-demand. Required if instanceTypesPreemptible is not set.
	InstanceTypesOndemand pulumi.StringPtrInput
	// The preemptible VMs instance type. To maximize cost savings and market availability, select as many types as possible. Required if instanceTypesOndemand is not set.
	InstanceTypesPreemptibles pulumi.StringArrayInput
	// Describes the [Docker Swarm](https://api.spotinst.com/integration-docs/elastigroup/container-management/docker-swarm/docker-swarm-integration/) integration.
	IntegrationDockerSwarm ElastigroupIntegrationDockerSwarmPtrInput
	IntegrationGke         ElastigroupIntegrationGkePtrInput
	IpForwarding           pulumi.BoolPtrInput
	// Array of objects with key-value pairs.
	Labels ElastigroupLabelArrayInput
	// The maximum number of instances the group should have at any time.
	MaxSize pulumi.IntPtrInput
	// Array of objects with key-value pairs.
	Metadatas ElastigroupMetadataArrayInput
	// The minimum number of instances the group should have at any time.
	MinSize pulumi.IntPtrInput
	// The group name.
	Name pulumi.StringPtrInput
	// Array of objects representing the network configuration for the elastigroup.
	NetworkInterfaces ElastigroupNetworkInterfaceArrayInput
	OndemandCount     pulumi.IntPtrInput
	// Percentage of Preemptible VMs to spin up from the "desiredCapacity".
	PreemptiblePercentage pulumi.IntPtrInput
	// Valid values: "SPOT", "PREEMPTIBLE". Define the provisioning model of the launched instances. Default value is "PREEMPTIBLE".
	ProvisioningModel pulumi.StringPtrInput
	// Contains scaling policies for scaling the Elastigroup down.
	ScalingDownPolicies ElastigroupScalingDownPolicyArrayInput
	// Contains scaling policies for scaling the Elastigroup up.
	ScalingUpPolicies ElastigroupScalingUpPolicyArrayInput
	ScheduledTasks    ElastigroupScheduledTaskArrayInput
	// The email of the service account in which the group instances will be launched.
	ServiceAccount pulumi.StringPtrInput
	// The Base64-encoded shutdown script that executes prior to instance termination, for more information please see: [Shutdown Script](https://api.spotinst.com/integration-docs/elastigroup/concepts/compute-concepts/shutdown-scripts/)
	ShutdownScript pulumi.StringPtrInput
	// Create and run your own startup scripts on your virtual machines to perform automated tasks every time your instance boots up.
	StartupScript pulumi.StringPtrInput
	// A list of regions and subnets.
	Subnets ElastigroupSubnetArrayInput
	// Tags to mark created instances.
	Tags pulumi.StringArrayInput
	// Period of time (seconds) to remain in an unhealthy status before a replacement is triggered.
	UnhealthyDuration pulumi.IntPtrInput
}

func (ElastigroupState) ElementType() reflect.Type {
	return reflect.TypeOf((*elastigroupState)(nil)).Elem()
}

type elastigroupArgs struct {
	// Enable auto-replacement of unhealthy instances.
	AutoHealing *bool `pulumi:"autoHealing"`
	// List of availability zones for the group.
	//
	// Deprecated: This field will soon be handled by Region in Subnets
	AvailabilityZones []string                    `pulumi:"availabilityZones"`
	BackendServices   []ElastigroupBackendService `pulumi:"backendServices"`
	// The region your GCP group will be created in.
	Description *string `pulumi:"description"`
	// The desired number of instances the group should have at any time.
	DesiredCapacity int               `pulumi:"desiredCapacity"`
	Disks           []ElastigroupDisk `pulumi:"disks"`
	// Time (seconds) the instance is allowed to run after it is detached from the group. This is to allow the instance time to drain all the current TCP connections before terminating it.
	DrainingTimeout *int `pulumi:"drainingTimeout"`
	// Activate fallback-to-on-demand. When provisioning an instance, if no Preemptible market is available, fallback-to-on-demand will provision an On-Demand instance to maintain the group capacity.
	FallbackToOndemand *bool            `pulumi:"fallbackToOndemand"`
	Gpu                []ElastigroupGpu `pulumi:"gpu"`
	// Period of time (seconds) to wait for VM to reach healthiness before monitoring for unhealthiness.
	HealthCheckGracePeriod *int `pulumi:"healthCheckGracePeriod"`
	// The kind of health check to perform when monitoring for unhealthiness.
	HealthCheckType *string `pulumi:"healthCheckType"`
	// Defines a set of custom instance types. Required if instanceTypesPreemptible and instanceTypesOndemand are not set.
	InstanceTypesCustoms []ElastigroupInstanceTypesCustom `pulumi:"instanceTypesCustoms"`
	// The regular VM instance type to use for mixed-type groups and when falling back to on-demand. Required if instanceTypesPreemptible is not set.
	InstanceTypesOndemand *string `pulumi:"instanceTypesOndemand"`
	// The preemptible VMs instance type. To maximize cost savings and market availability, select as many types as possible. Required if instanceTypesOndemand is not set.
	InstanceTypesPreemptibles []string `pulumi:"instanceTypesPreemptibles"`
	// Describes the [Docker Swarm](https://api.spotinst.com/integration-docs/elastigroup/container-management/docker-swarm/docker-swarm-integration/) integration.
	IntegrationDockerSwarm *ElastigroupIntegrationDockerSwarm `pulumi:"integrationDockerSwarm"`
	IntegrationGke         *ElastigroupIntegrationGke         `pulumi:"integrationGke"`
	IpForwarding           *bool                              `pulumi:"ipForwarding"`
	// Array of objects with key-value pairs.
	Labels []ElastigroupLabel `pulumi:"labels"`
	// The maximum number of instances the group should have at any time.
	MaxSize *int `pulumi:"maxSize"`
	// Array of objects with key-value pairs.
	Metadatas []ElastigroupMetadata `pulumi:"metadatas"`
	// The minimum number of instances the group should have at any time.
	MinSize *int `pulumi:"minSize"`
	// The group name.
	Name *string `pulumi:"name"`
	// Array of objects representing the network configuration for the elastigroup.
	NetworkInterfaces []ElastigroupNetworkInterface `pulumi:"networkInterfaces"`
	OndemandCount     *int                          `pulumi:"ondemandCount"`
	// Percentage of Preemptible VMs to spin up from the "desiredCapacity".
	PreemptiblePercentage *int `pulumi:"preemptiblePercentage"`
	// Valid values: "SPOT", "PREEMPTIBLE". Define the provisioning model of the launched instances. Default value is "PREEMPTIBLE".
	ProvisioningModel *string `pulumi:"provisioningModel"`
	// Contains scaling policies for scaling the Elastigroup down.
	ScalingDownPolicies []ElastigroupScalingDownPolicy `pulumi:"scalingDownPolicies"`
	// Contains scaling policies for scaling the Elastigroup up.
	ScalingUpPolicies []ElastigroupScalingUpPolicy `pulumi:"scalingUpPolicies"`
	ScheduledTasks    []ElastigroupScheduledTask   `pulumi:"scheduledTasks"`
	// The email of the service account in which the group instances will be launched.
	ServiceAccount *string `pulumi:"serviceAccount"`
	// The Base64-encoded shutdown script that executes prior to instance termination, for more information please see: [Shutdown Script](https://api.spotinst.com/integration-docs/elastigroup/concepts/compute-concepts/shutdown-scripts/)
	ShutdownScript *string `pulumi:"shutdownScript"`
	// Create and run your own startup scripts on your virtual machines to perform automated tasks every time your instance boots up.
	StartupScript *string `pulumi:"startupScript"`
	// A list of regions and subnets.
	Subnets []ElastigroupSubnet `pulumi:"subnets"`
	// Tags to mark created instances.
	Tags []string `pulumi:"tags"`
	// Period of time (seconds) to remain in an unhealthy status before a replacement is triggered.
	UnhealthyDuration *int `pulumi:"unhealthyDuration"`
}

// The set of arguments for constructing a Elastigroup resource.
type ElastigroupArgs struct {
	// Enable auto-replacement of unhealthy instances.
	AutoHealing pulumi.BoolPtrInput
	// List of availability zones for the group.
	//
	// Deprecated: This field will soon be handled by Region in Subnets
	AvailabilityZones pulumi.StringArrayInput
	BackendServices   ElastigroupBackendServiceArrayInput
	// The region your GCP group will be created in.
	Description pulumi.StringPtrInput
	// The desired number of instances the group should have at any time.
	DesiredCapacity pulumi.IntInput
	Disks           ElastigroupDiskArrayInput
	// Time (seconds) the instance is allowed to run after it is detached from the group. This is to allow the instance time to drain all the current TCP connections before terminating it.
	DrainingTimeout pulumi.IntPtrInput
	// Activate fallback-to-on-demand. When provisioning an instance, if no Preemptible market is available, fallback-to-on-demand will provision an On-Demand instance to maintain the group capacity.
	FallbackToOndemand pulumi.BoolPtrInput
	Gpu                ElastigroupGpuArrayInput
	// Period of time (seconds) to wait for VM to reach healthiness before monitoring for unhealthiness.
	HealthCheckGracePeriod pulumi.IntPtrInput
	// The kind of health check to perform when monitoring for unhealthiness.
	HealthCheckType pulumi.StringPtrInput
	// Defines a set of custom instance types. Required if instanceTypesPreemptible and instanceTypesOndemand are not set.
	InstanceTypesCustoms ElastigroupInstanceTypesCustomArrayInput
	// The regular VM instance type to use for mixed-type groups and when falling back to on-demand. Required if instanceTypesPreemptible is not set.
	InstanceTypesOndemand pulumi.StringPtrInput
	// The preemptible VMs instance type. To maximize cost savings and market availability, select as many types as possible. Required if instanceTypesOndemand is not set.
	InstanceTypesPreemptibles pulumi.StringArrayInput
	// Describes the [Docker Swarm](https://api.spotinst.com/integration-docs/elastigroup/container-management/docker-swarm/docker-swarm-integration/) integration.
	IntegrationDockerSwarm ElastigroupIntegrationDockerSwarmPtrInput
	IntegrationGke         ElastigroupIntegrationGkePtrInput
	IpForwarding           pulumi.BoolPtrInput
	// Array of objects with key-value pairs.
	Labels ElastigroupLabelArrayInput
	// The maximum number of instances the group should have at any time.
	MaxSize pulumi.IntPtrInput
	// Array of objects with key-value pairs.
	Metadatas ElastigroupMetadataArrayInput
	// The minimum number of instances the group should have at any time.
	MinSize pulumi.IntPtrInput
	// The group name.
	Name pulumi.StringPtrInput
	// Array of objects representing the network configuration for the elastigroup.
	NetworkInterfaces ElastigroupNetworkInterfaceArrayInput
	OndemandCount     pulumi.IntPtrInput
	// Percentage of Preemptible VMs to spin up from the "desiredCapacity".
	PreemptiblePercentage pulumi.IntPtrInput
	// Valid values: "SPOT", "PREEMPTIBLE". Define the provisioning model of the launched instances. Default value is "PREEMPTIBLE".
	ProvisioningModel pulumi.StringPtrInput
	// Contains scaling policies for scaling the Elastigroup down.
	ScalingDownPolicies ElastigroupScalingDownPolicyArrayInput
	// Contains scaling policies for scaling the Elastigroup up.
	ScalingUpPolicies ElastigroupScalingUpPolicyArrayInput
	ScheduledTasks    ElastigroupScheduledTaskArrayInput
	// The email of the service account in which the group instances will be launched.
	ServiceAccount pulumi.StringPtrInput
	// The Base64-encoded shutdown script that executes prior to instance termination, for more information please see: [Shutdown Script](https://api.spotinst.com/integration-docs/elastigroup/concepts/compute-concepts/shutdown-scripts/)
	ShutdownScript pulumi.StringPtrInput
	// Create and run your own startup scripts on your virtual machines to perform automated tasks every time your instance boots up.
	StartupScript pulumi.StringPtrInput
	// A list of regions and subnets.
	Subnets ElastigroupSubnetArrayInput
	// Tags to mark created instances.
	Tags pulumi.StringArrayInput
	// Period of time (seconds) to remain in an unhealthy status before a replacement is triggered.
	UnhealthyDuration pulumi.IntPtrInput
}

func (ElastigroupArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*elastigroupArgs)(nil)).Elem()
}

type ElastigroupInput interface {
	pulumi.Input

	ToElastigroupOutput() ElastigroupOutput
	ToElastigroupOutputWithContext(ctx context.Context) ElastigroupOutput
}

func (*Elastigroup) ElementType() reflect.Type {
	return reflect.TypeOf((**Elastigroup)(nil)).Elem()
}

func (i *Elastigroup) ToElastigroupOutput() ElastigroupOutput {
	return i.ToElastigroupOutputWithContext(context.Background())
}

func (i *Elastigroup) ToElastigroupOutputWithContext(ctx context.Context) ElastigroupOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ElastigroupOutput)
}

// ElastigroupArrayInput is an input type that accepts ElastigroupArray and ElastigroupArrayOutput values.
// You can construct a concrete instance of `ElastigroupArrayInput` via:
//
//	ElastigroupArray{ ElastigroupArgs{...} }
type ElastigroupArrayInput interface {
	pulumi.Input

	ToElastigroupArrayOutput() ElastigroupArrayOutput
	ToElastigroupArrayOutputWithContext(context.Context) ElastigroupArrayOutput
}

type ElastigroupArray []ElastigroupInput

func (ElastigroupArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*Elastigroup)(nil)).Elem()
}

func (i ElastigroupArray) ToElastigroupArrayOutput() ElastigroupArrayOutput {
	return i.ToElastigroupArrayOutputWithContext(context.Background())
}

func (i ElastigroupArray) ToElastigroupArrayOutputWithContext(ctx context.Context) ElastigroupArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ElastigroupArrayOutput)
}

// ElastigroupMapInput is an input type that accepts ElastigroupMap and ElastigroupMapOutput values.
// You can construct a concrete instance of `ElastigroupMapInput` via:
//
//	ElastigroupMap{ "key": ElastigroupArgs{...} }
type ElastigroupMapInput interface {
	pulumi.Input

	ToElastigroupMapOutput() ElastigroupMapOutput
	ToElastigroupMapOutputWithContext(context.Context) ElastigroupMapOutput
}

type ElastigroupMap map[string]ElastigroupInput

func (ElastigroupMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*Elastigroup)(nil)).Elem()
}

func (i ElastigroupMap) ToElastigroupMapOutput() ElastigroupMapOutput {
	return i.ToElastigroupMapOutputWithContext(context.Background())
}

func (i ElastigroupMap) ToElastigroupMapOutputWithContext(ctx context.Context) ElastigroupMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ElastigroupMapOutput)
}

type ElastigroupOutput struct{ *pulumi.OutputState }

func (ElastigroupOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**Elastigroup)(nil)).Elem()
}

func (o ElastigroupOutput) ToElastigroupOutput() ElastigroupOutput {
	return o
}

func (o ElastigroupOutput) ToElastigroupOutputWithContext(ctx context.Context) ElastigroupOutput {
	return o
}

// Enable auto-replacement of unhealthy instances.
func (o ElastigroupOutput) AutoHealing() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v *Elastigroup) pulumi.BoolPtrOutput { return v.AutoHealing }).(pulumi.BoolPtrOutput)
}

// List of availability zones for the group.
//
// Deprecated: This field will soon be handled by Region in Subnets
func (o ElastigroupOutput) AvailabilityZones() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *Elastigroup) pulumi.StringArrayOutput { return v.AvailabilityZones }).(pulumi.StringArrayOutput)
}

func (o ElastigroupOutput) BackendServices() ElastigroupBackendServiceArrayOutput {
	return o.ApplyT(func(v *Elastigroup) ElastigroupBackendServiceArrayOutput { return v.BackendServices }).(ElastigroupBackendServiceArrayOutput)
}

// The region your GCP group will be created in.
func (o ElastigroupOutput) Description() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *Elastigroup) pulumi.StringPtrOutput { return v.Description }).(pulumi.StringPtrOutput)
}

// The desired number of instances the group should have at any time.
func (o ElastigroupOutput) DesiredCapacity() pulumi.IntOutput {
	return o.ApplyT(func(v *Elastigroup) pulumi.IntOutput { return v.DesiredCapacity }).(pulumi.IntOutput)
}

func (o ElastigroupOutput) Disks() ElastigroupDiskArrayOutput {
	return o.ApplyT(func(v *Elastigroup) ElastigroupDiskArrayOutput { return v.Disks }).(ElastigroupDiskArrayOutput)
}

// Time (seconds) the instance is allowed to run after it is detached from the group. This is to allow the instance time to drain all the current TCP connections before terminating it.
func (o ElastigroupOutput) DrainingTimeout() pulumi.IntPtrOutput {
	return o.ApplyT(func(v *Elastigroup) pulumi.IntPtrOutput { return v.DrainingTimeout }).(pulumi.IntPtrOutput)
}

// Activate fallback-to-on-demand. When provisioning an instance, if no Preemptible market is available, fallback-to-on-demand will provision an On-Demand instance to maintain the group capacity.
func (o ElastigroupOutput) FallbackToOndemand() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v *Elastigroup) pulumi.BoolPtrOutput { return v.FallbackToOndemand }).(pulumi.BoolPtrOutput)
}

func (o ElastigroupOutput) Gpu() ElastigroupGpuArrayOutput {
	return o.ApplyT(func(v *Elastigroup) ElastigroupGpuArrayOutput { return v.Gpu }).(ElastigroupGpuArrayOutput)
}

// Period of time (seconds) to wait for VM to reach healthiness before monitoring for unhealthiness.
func (o ElastigroupOutput) HealthCheckGracePeriod() pulumi.IntPtrOutput {
	return o.ApplyT(func(v *Elastigroup) pulumi.IntPtrOutput { return v.HealthCheckGracePeriod }).(pulumi.IntPtrOutput)
}

// The kind of health check to perform when monitoring for unhealthiness.
func (o ElastigroupOutput) HealthCheckType() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *Elastigroup) pulumi.StringPtrOutput { return v.HealthCheckType }).(pulumi.StringPtrOutput)
}

// Defines a set of custom instance types. Required if instanceTypesPreemptible and instanceTypesOndemand are not set.
func (o ElastigroupOutput) InstanceTypesCustoms() ElastigroupInstanceTypesCustomArrayOutput {
	return o.ApplyT(func(v *Elastigroup) ElastigroupInstanceTypesCustomArrayOutput { return v.InstanceTypesCustoms }).(ElastigroupInstanceTypesCustomArrayOutput)
}

// The regular VM instance type to use for mixed-type groups and when falling back to on-demand. Required if instanceTypesPreemptible is not set.
func (o ElastigroupOutput) InstanceTypesOndemand() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *Elastigroup) pulumi.StringPtrOutput { return v.InstanceTypesOndemand }).(pulumi.StringPtrOutput)
}

// The preemptible VMs instance type. To maximize cost savings and market availability, select as many types as possible. Required if instanceTypesOndemand is not set.
func (o ElastigroupOutput) InstanceTypesPreemptibles() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *Elastigroup) pulumi.StringArrayOutput { return v.InstanceTypesPreemptibles }).(pulumi.StringArrayOutput)
}

// Describes the [Docker Swarm](https://api.spotinst.com/integration-docs/elastigroup/container-management/docker-swarm/docker-swarm-integration/) integration.
func (o ElastigroupOutput) IntegrationDockerSwarm() ElastigroupIntegrationDockerSwarmPtrOutput {
	return o.ApplyT(func(v *Elastigroup) ElastigroupIntegrationDockerSwarmPtrOutput { return v.IntegrationDockerSwarm }).(ElastigroupIntegrationDockerSwarmPtrOutput)
}

func (o ElastigroupOutput) IntegrationGke() ElastigroupIntegrationGkePtrOutput {
	return o.ApplyT(func(v *Elastigroup) ElastigroupIntegrationGkePtrOutput { return v.IntegrationGke }).(ElastigroupIntegrationGkePtrOutput)
}

func (o ElastigroupOutput) IpForwarding() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v *Elastigroup) pulumi.BoolPtrOutput { return v.IpForwarding }).(pulumi.BoolPtrOutput)
}

// Array of objects with key-value pairs.
func (o ElastigroupOutput) Labels() ElastigroupLabelArrayOutput {
	return o.ApplyT(func(v *Elastigroup) ElastigroupLabelArrayOutput { return v.Labels }).(ElastigroupLabelArrayOutput)
}

// The maximum number of instances the group should have at any time.
func (o ElastigroupOutput) MaxSize() pulumi.IntOutput {
	return o.ApplyT(func(v *Elastigroup) pulumi.IntOutput { return v.MaxSize }).(pulumi.IntOutput)
}

// Array of objects with key-value pairs.
func (o ElastigroupOutput) Metadatas() ElastigroupMetadataArrayOutput {
	return o.ApplyT(func(v *Elastigroup) ElastigroupMetadataArrayOutput { return v.Metadatas }).(ElastigroupMetadataArrayOutput)
}

// The minimum number of instances the group should have at any time.
func (o ElastigroupOutput) MinSize() pulumi.IntOutput {
	return o.ApplyT(func(v *Elastigroup) pulumi.IntOutput { return v.MinSize }).(pulumi.IntOutput)
}

// The group name.
func (o ElastigroupOutput) Name() pulumi.StringOutput {
	return o.ApplyT(func(v *Elastigroup) pulumi.StringOutput { return v.Name }).(pulumi.StringOutput)
}

// Array of objects representing the network configuration for the elastigroup.
func (o ElastigroupOutput) NetworkInterfaces() ElastigroupNetworkInterfaceArrayOutput {
	return o.ApplyT(func(v *Elastigroup) ElastigroupNetworkInterfaceArrayOutput { return v.NetworkInterfaces }).(ElastigroupNetworkInterfaceArrayOutput)
}

func (o ElastigroupOutput) OndemandCount() pulumi.IntPtrOutput {
	return o.ApplyT(func(v *Elastigroup) pulumi.IntPtrOutput { return v.OndemandCount }).(pulumi.IntPtrOutput)
}

// Percentage of Preemptible VMs to spin up from the "desiredCapacity".
func (o ElastigroupOutput) PreemptiblePercentage() pulumi.IntPtrOutput {
	return o.ApplyT(func(v *Elastigroup) pulumi.IntPtrOutput { return v.PreemptiblePercentage }).(pulumi.IntPtrOutput)
}

// Valid values: "SPOT", "PREEMPTIBLE". Define the provisioning model of the launched instances. Default value is "PREEMPTIBLE".
func (o ElastigroupOutput) ProvisioningModel() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *Elastigroup) pulumi.StringPtrOutput { return v.ProvisioningModel }).(pulumi.StringPtrOutput)
}

// Contains scaling policies for scaling the Elastigroup down.
func (o ElastigroupOutput) ScalingDownPolicies() ElastigroupScalingDownPolicyArrayOutput {
	return o.ApplyT(func(v *Elastigroup) ElastigroupScalingDownPolicyArrayOutput { return v.ScalingDownPolicies }).(ElastigroupScalingDownPolicyArrayOutput)
}

// Contains scaling policies for scaling the Elastigroup up.
func (o ElastigroupOutput) ScalingUpPolicies() ElastigroupScalingUpPolicyArrayOutput {
	return o.ApplyT(func(v *Elastigroup) ElastigroupScalingUpPolicyArrayOutput { return v.ScalingUpPolicies }).(ElastigroupScalingUpPolicyArrayOutput)
}

func (o ElastigroupOutput) ScheduledTasks() ElastigroupScheduledTaskArrayOutput {
	return o.ApplyT(func(v *Elastigroup) ElastigroupScheduledTaskArrayOutput { return v.ScheduledTasks }).(ElastigroupScheduledTaskArrayOutput)
}

// The email of the service account in which the group instances will be launched.
func (o ElastigroupOutput) ServiceAccount() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *Elastigroup) pulumi.StringPtrOutput { return v.ServiceAccount }).(pulumi.StringPtrOutput)
}

// The Base64-encoded shutdown script that executes prior to instance termination, for more information please see: [Shutdown Script](https://api.spotinst.com/integration-docs/elastigroup/concepts/compute-concepts/shutdown-scripts/)
func (o ElastigroupOutput) ShutdownScript() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *Elastigroup) pulumi.StringPtrOutput { return v.ShutdownScript }).(pulumi.StringPtrOutput)
}

// Create and run your own startup scripts on your virtual machines to perform automated tasks every time your instance boots up.
func (o ElastigroupOutput) StartupScript() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *Elastigroup) pulumi.StringPtrOutput { return v.StartupScript }).(pulumi.StringPtrOutput)
}

// A list of regions and subnets.
func (o ElastigroupOutput) Subnets() ElastigroupSubnetArrayOutput {
	return o.ApplyT(func(v *Elastigroup) ElastigroupSubnetArrayOutput { return v.Subnets }).(ElastigroupSubnetArrayOutput)
}

// Tags to mark created instances.
func (o ElastigroupOutput) Tags() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *Elastigroup) pulumi.StringArrayOutput { return v.Tags }).(pulumi.StringArrayOutput)
}

// Period of time (seconds) to remain in an unhealthy status before a replacement is triggered.
func (o ElastigroupOutput) UnhealthyDuration() pulumi.IntPtrOutput {
	return o.ApplyT(func(v *Elastigroup) pulumi.IntPtrOutput { return v.UnhealthyDuration }).(pulumi.IntPtrOutput)
}

type ElastigroupArrayOutput struct{ *pulumi.OutputState }

func (ElastigroupArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*Elastigroup)(nil)).Elem()
}

func (o ElastigroupArrayOutput) ToElastigroupArrayOutput() ElastigroupArrayOutput {
	return o
}

func (o ElastigroupArrayOutput) ToElastigroupArrayOutputWithContext(ctx context.Context) ElastigroupArrayOutput {
	return o
}

func (o ElastigroupArrayOutput) Index(i pulumi.IntInput) ElastigroupOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *Elastigroup {
		return vs[0].([]*Elastigroup)[vs[1].(int)]
	}).(ElastigroupOutput)
}

type ElastigroupMapOutput struct{ *pulumi.OutputState }

func (ElastigroupMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*Elastigroup)(nil)).Elem()
}

func (o ElastigroupMapOutput) ToElastigroupMapOutput() ElastigroupMapOutput {
	return o
}

func (o ElastigroupMapOutput) ToElastigroupMapOutputWithContext(ctx context.Context) ElastigroupMapOutput {
	return o
}

func (o ElastigroupMapOutput) MapIndex(k pulumi.StringInput) ElastigroupOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *Elastigroup {
		return vs[0].(map[string]*Elastigroup)[vs[1].(string)]
	}).(ElastigroupOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*ElastigroupInput)(nil)).Elem(), &Elastigroup{})
	pulumi.RegisterInputType(reflect.TypeOf((*ElastigroupArrayInput)(nil)).Elem(), ElastigroupArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*ElastigroupMapInput)(nil)).Elem(), ElastigroupMap{})
	pulumi.RegisterOutputType(ElastigroupOutput{})
	pulumi.RegisterOutputType(ElastigroupArrayOutput{})
	pulumi.RegisterOutputType(ElastigroupMapOutput{})
}
