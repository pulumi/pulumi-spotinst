// *** WARNING: this file was generated by the Pulumi Terraform Bridge (tfgen) Tool. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package aws

import (
	"context"
	"reflect"

	"github.com/pkg/errors"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Provides a Spotinst AWS group resource.
type Elastigroup struct {
	pulumi.CustomResourceState

	// List of Strings of availability zones. When this parameter is set, `subnetIds` should be left unused.
	// Note: `availabilityZones` naming syntax follows the convention `availability-zone:subnet:placement-group-name`. For example, to set an AZ in `us-east-1` with subnet `subnet-123456` and placement group `ClusterI03`, you would set:
	// `availabilityZones = ["us-east-1a:subnet-123456:ClusterI03"]`
	AvailabilityZones pulumi.StringArrayOutput `pulumi:"availabilityZones"`
	// String, determine the way we attach the data volumes to the data devices, possible values: `"reattach"` and `"onLaunch"` (default is onLaunch).
	BlockDevicesMode pulumi.StringPtrOutput `pulumi:"blockDevicesMode"`
	// The capacity unit to launch instances by. If not specified, when choosing the weight unit, each instance will weight as the number of its vCPUs. Valid values: `instance`, `weight`.
	CapacityUnit pulumi.StringOutput `pulumi:"capacityUnit"`
	// Controls how T3 instances are launched. Valid values: `standard`, `unlimited`.
	CpuCredits pulumi.StringPtrOutput `pulumi:"cpuCredits"`
	// The CPU options for the instances that are launched within the group:
	CpuOptions ElastigroupCpuOptionsPtrOutput `pulumi:"cpuOptions"`
	// The description of the network interface.
	Description pulumi.StringPtrOutput `pulumi:"description"`
	// The desired number of instances the group should have at any time.
	DesiredCapacity pulumi.IntPtrOutput `pulumi:"desiredCapacity"`
	// Indicates (in seconds) the timeout to wait until instance are detached.
	DrainingTimeout pulumi.IntOutput                     `pulumi:"drainingTimeout"`
	EbsBlockDevices ElastigroupEbsBlockDeviceArrayOutput `pulumi:"ebsBlockDevices"`
	// Enable high bandwidth connectivity between instances and AWS’s Elastic Block Store (EBS). For instance types that are EBS-optimized by default this parameter will be ignored.
	EbsOptimized pulumi.BoolOutput `pulumi:"ebsOptimized"`
	// A list of [AWS Elastic IP](http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html) allocation IDs to associate to the group instances.
	ElasticIps pulumi.StringArrayOutput `pulumi:"elasticIps"`
	// List of Elastic Load Balancers names (ELB).
	ElasticLoadBalancers pulumi.StringArrayOutput `pulumi:"elasticLoadBalancers"`
	// Indicates whether monitoring is enabled for the instance.
	EnableMonitoring      pulumi.BoolPtrOutput                       `pulumi:"enableMonitoring"`
	EphemeralBlockDevices ElastigroupEphemeralBlockDeviceArrayOutput `pulumi:"ephemeralBlockDevices"`
	// In a case of no Spot instances available, Elastigroup will launch on-demand instances instead.
	FallbackToOndemand pulumi.BoolOutput `pulumi:"fallbackToOndemand"`
	// The amount of time, in seconds, after the instance has launched to starts and check its health
	HealthCheckGracePeriod pulumi.IntPtrOutput `pulumi:"healthCheckGracePeriod"`
	// Sets the health check type to use. Valid values: `"EC2"`, `"ECS_CLUSTER_INSTANCE"`, `"ELB"`, `"HCS"`, `"MLB"`, `"TARGET_GROUP"`, `"MULTAI_TARGET_SET"`, `"NONE"`.
	HealthCheckType pulumi.StringPtrOutput `pulumi:"healthCheckType"`
	// The amount of time, in seconds, that we will wait before replacing an instance that is running and became unhealthy (this is only applicable for instances that were once healthy)
	HealthCheckUnhealthyDurationBeforeReplacement pulumi.IntPtrOutput `pulumi:"healthCheckUnhealthyDurationBeforeReplacement"`
	// The ARN or name of an IAM instance profile to associate with launched instances.
	IamInstanceProfile pulumi.StringPtrOutput `pulumi:"iamInstanceProfile"`
	// The ID of the AMI used to launch the instance.
	ImageId pulumi.StringPtrOutput `pulumi:"imageId"`
	// The type of instance determines your instance's CPU capacity, memory and storage (e.g., m1.small, c1.xlarge).
	InstanceTypesOndemand pulumi.StringOutput `pulumi:"instanceTypesOndemand"`
	// Prioritize a subset of spot instance types. Must be a subset of the selected spot instance types.
	InstanceTypesPreferredSpots pulumi.StringArrayOutput `pulumi:"instanceTypesPreferredSpots"`
	// One or more instance types.
	InstanceTypesSpots pulumi.StringArrayOutput `pulumi:"instanceTypesSpots"`
	// List of weights per instance type for weighted groups. Each object in the list should have the following attributes:
	InstanceTypesWeights ElastigroupInstanceTypesWeightArrayOutput `pulumi:"instanceTypesWeights"`
	IntegrationBeanstalk ElastigroupIntegrationBeanstalkPtrOutput  `pulumi:"integrationBeanstalk"`
	// Describes the [Code Deploy](https://aws.amazon.com/documentation/codedeploy/?id=docs_gateway) integration.
	IntegrationCodedeploy ElastigroupIntegrationCodedeployPtrOutput `pulumi:"integrationCodedeploy"`
	// Describes the [Docker Swarm](https://api.spotinst.com/integration-docs/elastigroup/container-management/docker-swarm/docker-swarm-integration/) integration.
	IntegrationDockerSwarm ElastigroupIntegrationDockerSwarmPtrOutput `pulumi:"integrationDockerSwarm"`
	// Describes the [EC2 Container Service](https://aws.amazon.com/documentation/ecs/?id=docs_gateway) integration.
	IntegrationEcs ElastigroupIntegrationEcsPtrOutput `pulumi:"integrationEcs"`
	// Describes the [Gitlab](https://api.spotinst.com/integration-docs/gitlab/) integration.
	IntegrationGitlab ElastigroupIntegrationGitlabPtrOutput `pulumi:"integrationGitlab"`
	// Describes the [Kubernetes](https://kubernetes.io/) integration.
	IntegrationKubernetes ElastigroupIntegrationKubernetesPtrOutput `pulumi:"integrationKubernetes"`
	// Describes the [Mesosphere](https://mesosphere.com/) integration.
	IntegrationMesosphere ElastigroupIntegrationMesospherePtrOutput `pulumi:"integrationMesosphere"`
	// Describes the [Multai Runtime](https://spotinst.com/) integration.
	IntegrationMultaiRuntime ElastigroupIntegrationMultaiRuntimePtrOutput `pulumi:"integrationMultaiRuntime"`
	// Describes the [Nomad](https://www.nomadproject.io/) integration.
	IntegrationNomad ElastigroupIntegrationNomadPtrOutput `pulumi:"integrationNomad"`
	// Describes the [Rancher](http://rancherlabs.com/) integration.
	IntegrationRancher ElastigroupIntegrationRancherPtrOutput `pulumi:"integrationRancher"`
	// Describes the [Route53](https://aws.amazon.com/documentation/route53/?id=docs_gateway) integration.
	IntegrationRoute53 ElastigroupIntegrationRoute53PtrOutput `pulumi:"integrationRoute53"`
	// The key name that should be used for the instance.
	KeyName        pulumi.StringPtrOutput `pulumi:"keyName"`
	LifetimePeriod pulumi.StringPtrOutput `pulumi:"lifetimePeriod"`
	// The maximum number of instances the group should have at any time.
	MaxSize pulumi.IntOutput `pulumi:"maxSize"`
	// Data that used to configure or manage the running instances:
	MetadataOptions ElastigroupMetadataOptionsPtrOutput `pulumi:"metadataOptions"`
	// The minimum number of instances the group should have at any time.
	MinSize pulumi.IntOutput `pulumi:"minSize"`
	// Defines the preferred minimum instance lifetime in hours. Markets which comply with this preference will be prioritized. Optional values: 1, 3, 6, 12, 24.
	MinimumInstanceLifetime pulumi.IntPtrOutput `pulumi:"minimumInstanceLifetime"`
	// Set of targets to register.
	MultaiTargetSets ElastigroupMultaiTargetSetArrayOutput `pulumi:"multaiTargetSets"`
	MultipleMetrics  ElastigroupMultipleMetricsPtrOutput   `pulumi:"multipleMetrics"`
	// The record set name.
	Name              pulumi.StringOutput                    `pulumi:"name"`
	NetworkInterfaces ElastigroupNetworkInterfaceArrayOutput `pulumi:"networkInterfaces"`
	// Number of on demand instances to launch in the group. All other instances will be spot instances. When this parameter is set the `spotPercentage` parameter is being ignored.
	OndemandCount pulumi.IntPtrOutput `pulumi:"ondemandCount"`
	// Select a prediction strategy. Valid values: `balanced`, `costOriented`, `equalAzDistribution`, `availabilityOriented`. You can read more in our documentation.
	Orientation pulumi.StringOutput `pulumi:"orientation"`
	// Boolean, should the instance maintain its Data volumes.
	PersistBlockDevices pulumi.BoolPtrOutput `pulumi:"persistBlockDevices"`
	// Boolean, should the instance maintain its private IP.
	PersistPrivateIp pulumi.BoolPtrOutput `pulumi:"persistPrivateIp"`
	// Boolean, should the instance maintain its root device volumes.
	PersistRootDevice pulumi.BoolPtrOutput `pulumi:"persistRootDevice"`
	// Enable dedicated tenancy. Note: There is a flat hourly fee for each region in which dedicated tenancy is used. Valid values: "default", "dedicated" .
	PlacementTenancy pulumi.StringPtrOutput `pulumi:"placementTenancy"`
	// The AZs to prioritize when launching Spot instances. If no markets are available in the Preferred AZs, Spot instances are launched in the non-preferred AZs.
	// Note: Must be a sublist of `availabilityZones` and `orientation` value must not be `"equalAzDistribution"`.
	PreferredAvailabilityZones pulumi.StringArrayOutput `pulumi:"preferredAvailabilityZones"`
	// List of Private IPs to associate to the group instances.(e.g. "172.1.1.0"). Please note: This setting will only apply if persistence.persist_private_ip is set to true.
	PrivateIps pulumi.StringArrayOutput `pulumi:"privateIps"`
	// Operation system type. Valid values: `"Linux/UNIX"`, `"SUSE Linux"`, `"Windows"`.
	// For EC2 Classic instances:  `"Linux/UNIX (Amazon VPC)"`, `"SUSE Linux (Amazon VPC)"`, `"Windows (Amazon VPC)"`.
	Product pulumi.StringOutput `pulumi:"product"`
	// The AWS region your group will be created in.
	// Note: This parameter is required if you specify subnets (through subnet_ids). This parameter is optional if you specify Availability Zones (through availability_zones).
	Region pulumi.StringPtrOutput `pulumi:"region"`
	// User will specify which resources should be tagged with group tags.
	ResourceTagSpecifications ElastigroupResourceTagSpecificationArrayOutput `pulumi:"resourceTagSpecifications"`
	// Hold settings for strategy correction – replacing On-Demand for Spot instances. Supported Values: `"never"`, `"always"`, `"timeWindow"`
	RevertToSpot        ElastigroupRevertToSpotPtrOutput        `pulumi:"revertToSpot"`
	ScalingDownPolicies ElastigroupScalingDownPolicyArrayOutput `pulumi:"scalingDownPolicies"`
	// Set termination policy.
	ScalingStrategies     ElastigroupScalingStrategyArrayOutput     `pulumi:"scalingStrategies"`
	ScalingTargetPolicies ElastigroupScalingTargetPolicyArrayOutput `pulumi:"scalingTargetPolicies"`
	ScalingUpPolicies     ElastigroupScalingUpPolicyArrayOutput     `pulumi:"scalingUpPolicies"`
	ScheduledTasks        ElastigroupScheduledTaskArrayOutput       `pulumi:"scheduledTasks"`
	// A list of associated security group IDS.
	SecurityGroups pulumi.StringArrayOutput `pulumi:"securityGroups"`
	// The Base64-encoded shutdown script that executes prior to instance termination, for more information please see: [Shutdown Script](https://api.spotinst.com/integration-docs/elastigroup/concepts/compute-concepts/shutdown-scripts/)
	ShutdownScript pulumi.StringPtrOutput       `pulumi:"shutdownScript"`
	Signals        ElastigroupSignalArrayOutput `pulumi:"signals"`
	// The percentage of Spot instances that would spin up from the `desiredCapacity` number.
	SpotPercentage          pulumi.IntPtrOutput                          `pulumi:"spotPercentage"`
	StatefulDeallocation    ElastigroupStatefulDeallocationPtrOutput     `pulumi:"statefulDeallocation"`
	StatefulInstanceActions ElastigroupStatefulInstanceActionArrayOutput `pulumi:"statefulInstanceActions"`
	// List of Strings of subnet identifiers.
	// Note: When this parameter is set, `availabilityZones` should be left unused.
	SubnetIds pulumi.StringArrayOutput `pulumi:"subnetIds"`
	// A key/value mapping of tags to assign to the resource.
	Tags ElastigroupTagArrayOutput `pulumi:"tags"`
	// List of Target Group ARNs to register the instances to.
	TargetGroupArns pulumi.StringArrayOutput         `pulumi:"targetGroupArns"`
	UpdatePolicy    ElastigroupUpdatePolicyPtrOutput `pulumi:"updatePolicy"`
	// The user data to provide when launching the instance.
	UserData           pulumi.StringPtrOutput `pulumi:"userData"`
	UtilizeCommitments pulumi.BoolPtrOutput   `pulumi:"utilizeCommitments"`
	// In a case of any available reserved instances, Elastigroup will utilize them first before purchasing Spot instances.
	UtilizeReservedInstances pulumi.BoolPtrOutput `pulumi:"utilizeReservedInstances"`
	// Minimum number of instances in a 'HEALTHY' status that is required before continuing. This is ignored when updating with blue/green deployment. Cannot exceed `desiredCapacity`.
	WaitForCapacity pulumi.IntPtrOutput `pulumi:"waitForCapacity"`
	// Time (seconds) to wait for instances to report a 'HEALTHY' status. Useful for plans with multiple dependencies that take some time to initialize. Leave undefined or set to `0` to indicate no wait. This is ignored when updating with blue/green deployment.
	WaitForCapacityTimeout pulumi.IntPtrOutput `pulumi:"waitForCapacityTimeout"`
}

// NewElastigroup registers a new resource with the given unique name, arguments, and options.
func NewElastigroup(ctx *pulumi.Context,
	name string, args *ElastigroupArgs, opts ...pulumi.ResourceOption) (*Elastigroup, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.FallbackToOndemand == nil {
		return nil, errors.New("invalid value for required argument 'FallbackToOndemand'")
	}
	if args.InstanceTypesOndemand == nil {
		return nil, errors.New("invalid value for required argument 'InstanceTypesOndemand'")
	}
	if args.InstanceTypesSpots == nil {
		return nil, errors.New("invalid value for required argument 'InstanceTypesSpots'")
	}
	if args.Orientation == nil {
		return nil, errors.New("invalid value for required argument 'Orientation'")
	}
	if args.Product == nil {
		return nil, errors.New("invalid value for required argument 'Product'")
	}
	if args.SecurityGroups == nil {
		return nil, errors.New("invalid value for required argument 'SecurityGroups'")
	}
	var resource Elastigroup
	err := ctx.RegisterResource("spotinst:aws/elastigroup:Elastigroup", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetElastigroup gets an existing Elastigroup resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetElastigroup(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *ElastigroupState, opts ...pulumi.ResourceOption) (*Elastigroup, error) {
	var resource Elastigroup
	err := ctx.ReadResource("spotinst:aws/elastigroup:Elastigroup", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering Elastigroup resources.
type elastigroupState struct {
	// List of Strings of availability zones. When this parameter is set, `subnetIds` should be left unused.
	// Note: `availabilityZones` naming syntax follows the convention `availability-zone:subnet:placement-group-name`. For example, to set an AZ in `us-east-1` with subnet `subnet-123456` and placement group `ClusterI03`, you would set:
	// `availabilityZones = ["us-east-1a:subnet-123456:ClusterI03"]`
	AvailabilityZones []string `pulumi:"availabilityZones"`
	// String, determine the way we attach the data volumes to the data devices, possible values: `"reattach"` and `"onLaunch"` (default is onLaunch).
	BlockDevicesMode *string `pulumi:"blockDevicesMode"`
	// The capacity unit to launch instances by. If not specified, when choosing the weight unit, each instance will weight as the number of its vCPUs. Valid values: `instance`, `weight`.
	CapacityUnit *string `pulumi:"capacityUnit"`
	// Controls how T3 instances are launched. Valid values: `standard`, `unlimited`.
	CpuCredits *string `pulumi:"cpuCredits"`
	// The CPU options for the instances that are launched within the group:
	CpuOptions *ElastigroupCpuOptions `pulumi:"cpuOptions"`
	// The description of the network interface.
	Description *string `pulumi:"description"`
	// The desired number of instances the group should have at any time.
	DesiredCapacity *int `pulumi:"desiredCapacity"`
	// Indicates (in seconds) the timeout to wait until instance are detached.
	DrainingTimeout *int                        `pulumi:"drainingTimeout"`
	EbsBlockDevices []ElastigroupEbsBlockDevice `pulumi:"ebsBlockDevices"`
	// Enable high bandwidth connectivity between instances and AWS’s Elastic Block Store (EBS). For instance types that are EBS-optimized by default this parameter will be ignored.
	EbsOptimized *bool `pulumi:"ebsOptimized"`
	// A list of [AWS Elastic IP](http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html) allocation IDs to associate to the group instances.
	ElasticIps []string `pulumi:"elasticIps"`
	// List of Elastic Load Balancers names (ELB).
	ElasticLoadBalancers []string `pulumi:"elasticLoadBalancers"`
	// Indicates whether monitoring is enabled for the instance.
	EnableMonitoring      *bool                             `pulumi:"enableMonitoring"`
	EphemeralBlockDevices []ElastigroupEphemeralBlockDevice `pulumi:"ephemeralBlockDevices"`
	// In a case of no Spot instances available, Elastigroup will launch on-demand instances instead.
	FallbackToOndemand *bool `pulumi:"fallbackToOndemand"`
	// The amount of time, in seconds, after the instance has launched to starts and check its health
	HealthCheckGracePeriod *int `pulumi:"healthCheckGracePeriod"`
	// Sets the health check type to use. Valid values: `"EC2"`, `"ECS_CLUSTER_INSTANCE"`, `"ELB"`, `"HCS"`, `"MLB"`, `"TARGET_GROUP"`, `"MULTAI_TARGET_SET"`, `"NONE"`.
	HealthCheckType *string `pulumi:"healthCheckType"`
	// The amount of time, in seconds, that we will wait before replacing an instance that is running and became unhealthy (this is only applicable for instances that were once healthy)
	HealthCheckUnhealthyDurationBeforeReplacement *int `pulumi:"healthCheckUnhealthyDurationBeforeReplacement"`
	// The ARN or name of an IAM instance profile to associate with launched instances.
	IamInstanceProfile *string `pulumi:"iamInstanceProfile"`
	// The ID of the AMI used to launch the instance.
	ImageId *string `pulumi:"imageId"`
	// The type of instance determines your instance's CPU capacity, memory and storage (e.g., m1.small, c1.xlarge).
	InstanceTypesOndemand *string `pulumi:"instanceTypesOndemand"`
	// Prioritize a subset of spot instance types. Must be a subset of the selected spot instance types.
	InstanceTypesPreferredSpots []string `pulumi:"instanceTypesPreferredSpots"`
	// One or more instance types.
	InstanceTypesSpots []string `pulumi:"instanceTypesSpots"`
	// List of weights per instance type for weighted groups. Each object in the list should have the following attributes:
	InstanceTypesWeights []ElastigroupInstanceTypesWeight `pulumi:"instanceTypesWeights"`
	IntegrationBeanstalk *ElastigroupIntegrationBeanstalk `pulumi:"integrationBeanstalk"`
	// Describes the [Code Deploy](https://aws.amazon.com/documentation/codedeploy/?id=docs_gateway) integration.
	IntegrationCodedeploy *ElastigroupIntegrationCodedeploy `pulumi:"integrationCodedeploy"`
	// Describes the [Docker Swarm](https://api.spotinst.com/integration-docs/elastigroup/container-management/docker-swarm/docker-swarm-integration/) integration.
	IntegrationDockerSwarm *ElastigroupIntegrationDockerSwarm `pulumi:"integrationDockerSwarm"`
	// Describes the [EC2 Container Service](https://aws.amazon.com/documentation/ecs/?id=docs_gateway) integration.
	IntegrationEcs *ElastigroupIntegrationEcs `pulumi:"integrationEcs"`
	// Describes the [Gitlab](https://api.spotinst.com/integration-docs/gitlab/) integration.
	IntegrationGitlab *ElastigroupIntegrationGitlab `pulumi:"integrationGitlab"`
	// Describes the [Kubernetes](https://kubernetes.io/) integration.
	IntegrationKubernetes *ElastigroupIntegrationKubernetes `pulumi:"integrationKubernetes"`
	// Describes the [Mesosphere](https://mesosphere.com/) integration.
	IntegrationMesosphere *ElastigroupIntegrationMesosphere `pulumi:"integrationMesosphere"`
	// Describes the [Multai Runtime](https://spotinst.com/) integration.
	IntegrationMultaiRuntime *ElastigroupIntegrationMultaiRuntime `pulumi:"integrationMultaiRuntime"`
	// Describes the [Nomad](https://www.nomadproject.io/) integration.
	IntegrationNomad *ElastigroupIntegrationNomad `pulumi:"integrationNomad"`
	// Describes the [Rancher](http://rancherlabs.com/) integration.
	IntegrationRancher *ElastigroupIntegrationRancher `pulumi:"integrationRancher"`
	// Describes the [Route53](https://aws.amazon.com/documentation/route53/?id=docs_gateway) integration.
	IntegrationRoute53 *ElastigroupIntegrationRoute53 `pulumi:"integrationRoute53"`
	// The key name that should be used for the instance.
	KeyName        *string `pulumi:"keyName"`
	LifetimePeriod *string `pulumi:"lifetimePeriod"`
	// The maximum number of instances the group should have at any time.
	MaxSize *int `pulumi:"maxSize"`
	// Data that used to configure or manage the running instances:
	MetadataOptions *ElastigroupMetadataOptions `pulumi:"metadataOptions"`
	// The minimum number of instances the group should have at any time.
	MinSize *int `pulumi:"minSize"`
	// Defines the preferred minimum instance lifetime in hours. Markets which comply with this preference will be prioritized. Optional values: 1, 3, 6, 12, 24.
	MinimumInstanceLifetime *int `pulumi:"minimumInstanceLifetime"`
	// Set of targets to register.
	MultaiTargetSets []ElastigroupMultaiTargetSet `pulumi:"multaiTargetSets"`
	MultipleMetrics  *ElastigroupMultipleMetrics  `pulumi:"multipleMetrics"`
	// The record set name.
	Name              *string                       `pulumi:"name"`
	NetworkInterfaces []ElastigroupNetworkInterface `pulumi:"networkInterfaces"`
	// Number of on demand instances to launch in the group. All other instances will be spot instances. When this parameter is set the `spotPercentage` parameter is being ignored.
	OndemandCount *int `pulumi:"ondemandCount"`
	// Select a prediction strategy. Valid values: `balanced`, `costOriented`, `equalAzDistribution`, `availabilityOriented`. You can read more in our documentation.
	Orientation *string `pulumi:"orientation"`
	// Boolean, should the instance maintain its Data volumes.
	PersistBlockDevices *bool `pulumi:"persistBlockDevices"`
	// Boolean, should the instance maintain its private IP.
	PersistPrivateIp *bool `pulumi:"persistPrivateIp"`
	// Boolean, should the instance maintain its root device volumes.
	PersistRootDevice *bool `pulumi:"persistRootDevice"`
	// Enable dedicated tenancy. Note: There is a flat hourly fee for each region in which dedicated tenancy is used. Valid values: "default", "dedicated" .
	PlacementTenancy *string `pulumi:"placementTenancy"`
	// The AZs to prioritize when launching Spot instances. If no markets are available in the Preferred AZs, Spot instances are launched in the non-preferred AZs.
	// Note: Must be a sublist of `availabilityZones` and `orientation` value must not be `"equalAzDistribution"`.
	PreferredAvailabilityZones []string `pulumi:"preferredAvailabilityZones"`
	// List of Private IPs to associate to the group instances.(e.g. "172.1.1.0"). Please note: This setting will only apply if persistence.persist_private_ip is set to true.
	PrivateIps []string `pulumi:"privateIps"`
	// Operation system type. Valid values: `"Linux/UNIX"`, `"SUSE Linux"`, `"Windows"`.
	// For EC2 Classic instances:  `"Linux/UNIX (Amazon VPC)"`, `"SUSE Linux (Amazon VPC)"`, `"Windows (Amazon VPC)"`.
	Product *string `pulumi:"product"`
	// The AWS region your group will be created in.
	// Note: This parameter is required if you specify subnets (through subnet_ids). This parameter is optional if you specify Availability Zones (through availability_zones).
	Region *string `pulumi:"region"`
	// User will specify which resources should be tagged with group tags.
	ResourceTagSpecifications []ElastigroupResourceTagSpecification `pulumi:"resourceTagSpecifications"`
	// Hold settings for strategy correction – replacing On-Demand for Spot instances. Supported Values: `"never"`, `"always"`, `"timeWindow"`
	RevertToSpot        *ElastigroupRevertToSpot       `pulumi:"revertToSpot"`
	ScalingDownPolicies []ElastigroupScalingDownPolicy `pulumi:"scalingDownPolicies"`
	// Set termination policy.
	ScalingStrategies     []ElastigroupScalingStrategy     `pulumi:"scalingStrategies"`
	ScalingTargetPolicies []ElastigroupScalingTargetPolicy `pulumi:"scalingTargetPolicies"`
	ScalingUpPolicies     []ElastigroupScalingUpPolicy     `pulumi:"scalingUpPolicies"`
	ScheduledTasks        []ElastigroupScheduledTask       `pulumi:"scheduledTasks"`
	// A list of associated security group IDS.
	SecurityGroups []string `pulumi:"securityGroups"`
	// The Base64-encoded shutdown script that executes prior to instance termination, for more information please see: [Shutdown Script](https://api.spotinst.com/integration-docs/elastigroup/concepts/compute-concepts/shutdown-scripts/)
	ShutdownScript *string             `pulumi:"shutdownScript"`
	Signals        []ElastigroupSignal `pulumi:"signals"`
	// The percentage of Spot instances that would spin up from the `desiredCapacity` number.
	SpotPercentage          *int                                `pulumi:"spotPercentage"`
	StatefulDeallocation    *ElastigroupStatefulDeallocation    `pulumi:"statefulDeallocation"`
	StatefulInstanceActions []ElastigroupStatefulInstanceAction `pulumi:"statefulInstanceActions"`
	// List of Strings of subnet identifiers.
	// Note: When this parameter is set, `availabilityZones` should be left unused.
	SubnetIds []string `pulumi:"subnetIds"`
	// A key/value mapping of tags to assign to the resource.
	Tags []ElastigroupTag `pulumi:"tags"`
	// List of Target Group ARNs to register the instances to.
	TargetGroupArns []string                 `pulumi:"targetGroupArns"`
	UpdatePolicy    *ElastigroupUpdatePolicy `pulumi:"updatePolicy"`
	// The user data to provide when launching the instance.
	UserData           *string `pulumi:"userData"`
	UtilizeCommitments *bool   `pulumi:"utilizeCommitments"`
	// In a case of any available reserved instances, Elastigroup will utilize them first before purchasing Spot instances.
	UtilizeReservedInstances *bool `pulumi:"utilizeReservedInstances"`
	// Minimum number of instances in a 'HEALTHY' status that is required before continuing. This is ignored when updating with blue/green deployment. Cannot exceed `desiredCapacity`.
	WaitForCapacity *int `pulumi:"waitForCapacity"`
	// Time (seconds) to wait for instances to report a 'HEALTHY' status. Useful for plans with multiple dependencies that take some time to initialize. Leave undefined or set to `0` to indicate no wait. This is ignored when updating with blue/green deployment.
	WaitForCapacityTimeout *int `pulumi:"waitForCapacityTimeout"`
}

type ElastigroupState struct {
	// List of Strings of availability zones. When this parameter is set, `subnetIds` should be left unused.
	// Note: `availabilityZones` naming syntax follows the convention `availability-zone:subnet:placement-group-name`. For example, to set an AZ in `us-east-1` with subnet `subnet-123456` and placement group `ClusterI03`, you would set:
	// `availabilityZones = ["us-east-1a:subnet-123456:ClusterI03"]`
	AvailabilityZones pulumi.StringArrayInput
	// String, determine the way we attach the data volumes to the data devices, possible values: `"reattach"` and `"onLaunch"` (default is onLaunch).
	BlockDevicesMode pulumi.StringPtrInput
	// The capacity unit to launch instances by. If not specified, when choosing the weight unit, each instance will weight as the number of its vCPUs. Valid values: `instance`, `weight`.
	CapacityUnit pulumi.StringPtrInput
	// Controls how T3 instances are launched. Valid values: `standard`, `unlimited`.
	CpuCredits pulumi.StringPtrInput
	// The CPU options for the instances that are launched within the group:
	CpuOptions ElastigroupCpuOptionsPtrInput
	// The description of the network interface.
	Description pulumi.StringPtrInput
	// The desired number of instances the group should have at any time.
	DesiredCapacity pulumi.IntPtrInput
	// Indicates (in seconds) the timeout to wait until instance are detached.
	DrainingTimeout pulumi.IntPtrInput
	EbsBlockDevices ElastigroupEbsBlockDeviceArrayInput
	// Enable high bandwidth connectivity between instances and AWS’s Elastic Block Store (EBS). For instance types that are EBS-optimized by default this parameter will be ignored.
	EbsOptimized pulumi.BoolPtrInput
	// A list of [AWS Elastic IP](http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html) allocation IDs to associate to the group instances.
	ElasticIps pulumi.StringArrayInput
	// List of Elastic Load Balancers names (ELB).
	ElasticLoadBalancers pulumi.StringArrayInput
	// Indicates whether monitoring is enabled for the instance.
	EnableMonitoring      pulumi.BoolPtrInput
	EphemeralBlockDevices ElastigroupEphemeralBlockDeviceArrayInput
	// In a case of no Spot instances available, Elastigroup will launch on-demand instances instead.
	FallbackToOndemand pulumi.BoolPtrInput
	// The amount of time, in seconds, after the instance has launched to starts and check its health
	HealthCheckGracePeriod pulumi.IntPtrInput
	// Sets the health check type to use. Valid values: `"EC2"`, `"ECS_CLUSTER_INSTANCE"`, `"ELB"`, `"HCS"`, `"MLB"`, `"TARGET_GROUP"`, `"MULTAI_TARGET_SET"`, `"NONE"`.
	HealthCheckType pulumi.StringPtrInput
	// The amount of time, in seconds, that we will wait before replacing an instance that is running and became unhealthy (this is only applicable for instances that were once healthy)
	HealthCheckUnhealthyDurationBeforeReplacement pulumi.IntPtrInput
	// The ARN or name of an IAM instance profile to associate with launched instances.
	IamInstanceProfile pulumi.StringPtrInput
	// The ID of the AMI used to launch the instance.
	ImageId pulumi.StringPtrInput
	// The type of instance determines your instance's CPU capacity, memory and storage (e.g., m1.small, c1.xlarge).
	InstanceTypesOndemand pulumi.StringPtrInput
	// Prioritize a subset of spot instance types. Must be a subset of the selected spot instance types.
	InstanceTypesPreferredSpots pulumi.StringArrayInput
	// One or more instance types.
	InstanceTypesSpots pulumi.StringArrayInput
	// List of weights per instance type for weighted groups. Each object in the list should have the following attributes:
	InstanceTypesWeights ElastigroupInstanceTypesWeightArrayInput
	IntegrationBeanstalk ElastigroupIntegrationBeanstalkPtrInput
	// Describes the [Code Deploy](https://aws.amazon.com/documentation/codedeploy/?id=docs_gateway) integration.
	IntegrationCodedeploy ElastigroupIntegrationCodedeployPtrInput
	// Describes the [Docker Swarm](https://api.spotinst.com/integration-docs/elastigroup/container-management/docker-swarm/docker-swarm-integration/) integration.
	IntegrationDockerSwarm ElastigroupIntegrationDockerSwarmPtrInput
	// Describes the [EC2 Container Service](https://aws.amazon.com/documentation/ecs/?id=docs_gateway) integration.
	IntegrationEcs ElastigroupIntegrationEcsPtrInput
	// Describes the [Gitlab](https://api.spotinst.com/integration-docs/gitlab/) integration.
	IntegrationGitlab ElastigroupIntegrationGitlabPtrInput
	// Describes the [Kubernetes](https://kubernetes.io/) integration.
	IntegrationKubernetes ElastigroupIntegrationKubernetesPtrInput
	// Describes the [Mesosphere](https://mesosphere.com/) integration.
	IntegrationMesosphere ElastigroupIntegrationMesospherePtrInput
	// Describes the [Multai Runtime](https://spotinst.com/) integration.
	IntegrationMultaiRuntime ElastigroupIntegrationMultaiRuntimePtrInput
	// Describes the [Nomad](https://www.nomadproject.io/) integration.
	IntegrationNomad ElastigroupIntegrationNomadPtrInput
	// Describes the [Rancher](http://rancherlabs.com/) integration.
	IntegrationRancher ElastigroupIntegrationRancherPtrInput
	// Describes the [Route53](https://aws.amazon.com/documentation/route53/?id=docs_gateway) integration.
	IntegrationRoute53 ElastigroupIntegrationRoute53PtrInput
	// The key name that should be used for the instance.
	KeyName        pulumi.StringPtrInput
	LifetimePeriod pulumi.StringPtrInput
	// The maximum number of instances the group should have at any time.
	MaxSize pulumi.IntPtrInput
	// Data that used to configure or manage the running instances:
	MetadataOptions ElastigroupMetadataOptionsPtrInput
	// The minimum number of instances the group should have at any time.
	MinSize pulumi.IntPtrInput
	// Defines the preferred minimum instance lifetime in hours. Markets which comply with this preference will be prioritized. Optional values: 1, 3, 6, 12, 24.
	MinimumInstanceLifetime pulumi.IntPtrInput
	// Set of targets to register.
	MultaiTargetSets ElastigroupMultaiTargetSetArrayInput
	MultipleMetrics  ElastigroupMultipleMetricsPtrInput
	// The record set name.
	Name              pulumi.StringPtrInput
	NetworkInterfaces ElastigroupNetworkInterfaceArrayInput
	// Number of on demand instances to launch in the group. All other instances will be spot instances. When this parameter is set the `spotPercentage` parameter is being ignored.
	OndemandCount pulumi.IntPtrInput
	// Select a prediction strategy. Valid values: `balanced`, `costOriented`, `equalAzDistribution`, `availabilityOriented`. You can read more in our documentation.
	Orientation pulumi.StringPtrInput
	// Boolean, should the instance maintain its Data volumes.
	PersistBlockDevices pulumi.BoolPtrInput
	// Boolean, should the instance maintain its private IP.
	PersistPrivateIp pulumi.BoolPtrInput
	// Boolean, should the instance maintain its root device volumes.
	PersistRootDevice pulumi.BoolPtrInput
	// Enable dedicated tenancy. Note: There is a flat hourly fee for each region in which dedicated tenancy is used. Valid values: "default", "dedicated" .
	PlacementTenancy pulumi.StringPtrInput
	// The AZs to prioritize when launching Spot instances. If no markets are available in the Preferred AZs, Spot instances are launched in the non-preferred AZs.
	// Note: Must be a sublist of `availabilityZones` and `orientation` value must not be `"equalAzDistribution"`.
	PreferredAvailabilityZones pulumi.StringArrayInput
	// List of Private IPs to associate to the group instances.(e.g. "172.1.1.0"). Please note: This setting will only apply if persistence.persist_private_ip is set to true.
	PrivateIps pulumi.StringArrayInput
	// Operation system type. Valid values: `"Linux/UNIX"`, `"SUSE Linux"`, `"Windows"`.
	// For EC2 Classic instances:  `"Linux/UNIX (Amazon VPC)"`, `"SUSE Linux (Amazon VPC)"`, `"Windows (Amazon VPC)"`.
	Product pulumi.StringPtrInput
	// The AWS region your group will be created in.
	// Note: This parameter is required if you specify subnets (through subnet_ids). This parameter is optional if you specify Availability Zones (through availability_zones).
	Region pulumi.StringPtrInput
	// User will specify which resources should be tagged with group tags.
	ResourceTagSpecifications ElastigroupResourceTagSpecificationArrayInput
	// Hold settings for strategy correction – replacing On-Demand for Spot instances. Supported Values: `"never"`, `"always"`, `"timeWindow"`
	RevertToSpot        ElastigroupRevertToSpotPtrInput
	ScalingDownPolicies ElastigroupScalingDownPolicyArrayInput
	// Set termination policy.
	ScalingStrategies     ElastigroupScalingStrategyArrayInput
	ScalingTargetPolicies ElastigroupScalingTargetPolicyArrayInput
	ScalingUpPolicies     ElastigroupScalingUpPolicyArrayInput
	ScheduledTasks        ElastigroupScheduledTaskArrayInput
	// A list of associated security group IDS.
	SecurityGroups pulumi.StringArrayInput
	// The Base64-encoded shutdown script that executes prior to instance termination, for more information please see: [Shutdown Script](https://api.spotinst.com/integration-docs/elastigroup/concepts/compute-concepts/shutdown-scripts/)
	ShutdownScript pulumi.StringPtrInput
	Signals        ElastigroupSignalArrayInput
	// The percentage of Spot instances that would spin up from the `desiredCapacity` number.
	SpotPercentage          pulumi.IntPtrInput
	StatefulDeallocation    ElastigroupStatefulDeallocationPtrInput
	StatefulInstanceActions ElastigroupStatefulInstanceActionArrayInput
	// List of Strings of subnet identifiers.
	// Note: When this parameter is set, `availabilityZones` should be left unused.
	SubnetIds pulumi.StringArrayInput
	// A key/value mapping of tags to assign to the resource.
	Tags ElastigroupTagArrayInput
	// List of Target Group ARNs to register the instances to.
	TargetGroupArns pulumi.StringArrayInput
	UpdatePolicy    ElastigroupUpdatePolicyPtrInput
	// The user data to provide when launching the instance.
	UserData           pulumi.StringPtrInput
	UtilizeCommitments pulumi.BoolPtrInput
	// In a case of any available reserved instances, Elastigroup will utilize them first before purchasing Spot instances.
	UtilizeReservedInstances pulumi.BoolPtrInput
	// Minimum number of instances in a 'HEALTHY' status that is required before continuing. This is ignored when updating with blue/green deployment. Cannot exceed `desiredCapacity`.
	WaitForCapacity pulumi.IntPtrInput
	// Time (seconds) to wait for instances to report a 'HEALTHY' status. Useful for plans with multiple dependencies that take some time to initialize. Leave undefined or set to `0` to indicate no wait. This is ignored when updating with blue/green deployment.
	WaitForCapacityTimeout pulumi.IntPtrInput
}

func (ElastigroupState) ElementType() reflect.Type {
	return reflect.TypeOf((*elastigroupState)(nil)).Elem()
}

type elastigroupArgs struct {
	// List of Strings of availability zones. When this parameter is set, `subnetIds` should be left unused.
	// Note: `availabilityZones` naming syntax follows the convention `availability-zone:subnet:placement-group-name`. For example, to set an AZ in `us-east-1` with subnet `subnet-123456` and placement group `ClusterI03`, you would set:
	// `availabilityZones = ["us-east-1a:subnet-123456:ClusterI03"]`
	AvailabilityZones []string `pulumi:"availabilityZones"`
	// String, determine the way we attach the data volumes to the data devices, possible values: `"reattach"` and `"onLaunch"` (default is onLaunch).
	BlockDevicesMode *string `pulumi:"blockDevicesMode"`
	// The capacity unit to launch instances by. If not specified, when choosing the weight unit, each instance will weight as the number of its vCPUs. Valid values: `instance`, `weight`.
	CapacityUnit *string `pulumi:"capacityUnit"`
	// Controls how T3 instances are launched. Valid values: `standard`, `unlimited`.
	CpuCredits *string `pulumi:"cpuCredits"`
	// The CPU options for the instances that are launched within the group:
	CpuOptions *ElastigroupCpuOptions `pulumi:"cpuOptions"`
	// The description of the network interface.
	Description *string `pulumi:"description"`
	// The desired number of instances the group should have at any time.
	DesiredCapacity *int `pulumi:"desiredCapacity"`
	// Indicates (in seconds) the timeout to wait until instance are detached.
	DrainingTimeout *int                        `pulumi:"drainingTimeout"`
	EbsBlockDevices []ElastigroupEbsBlockDevice `pulumi:"ebsBlockDevices"`
	// Enable high bandwidth connectivity between instances and AWS’s Elastic Block Store (EBS). For instance types that are EBS-optimized by default this parameter will be ignored.
	EbsOptimized *bool `pulumi:"ebsOptimized"`
	// A list of [AWS Elastic IP](http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html) allocation IDs to associate to the group instances.
	ElasticIps []string `pulumi:"elasticIps"`
	// List of Elastic Load Balancers names (ELB).
	ElasticLoadBalancers []string `pulumi:"elasticLoadBalancers"`
	// Indicates whether monitoring is enabled for the instance.
	EnableMonitoring      *bool                             `pulumi:"enableMonitoring"`
	EphemeralBlockDevices []ElastigroupEphemeralBlockDevice `pulumi:"ephemeralBlockDevices"`
	// In a case of no Spot instances available, Elastigroup will launch on-demand instances instead.
	FallbackToOndemand bool `pulumi:"fallbackToOndemand"`
	// The amount of time, in seconds, after the instance has launched to starts and check its health
	HealthCheckGracePeriod *int `pulumi:"healthCheckGracePeriod"`
	// Sets the health check type to use. Valid values: `"EC2"`, `"ECS_CLUSTER_INSTANCE"`, `"ELB"`, `"HCS"`, `"MLB"`, `"TARGET_GROUP"`, `"MULTAI_TARGET_SET"`, `"NONE"`.
	HealthCheckType *string `pulumi:"healthCheckType"`
	// The amount of time, in seconds, that we will wait before replacing an instance that is running and became unhealthy (this is only applicable for instances that were once healthy)
	HealthCheckUnhealthyDurationBeforeReplacement *int `pulumi:"healthCheckUnhealthyDurationBeforeReplacement"`
	// The ARN or name of an IAM instance profile to associate with launched instances.
	IamInstanceProfile *string `pulumi:"iamInstanceProfile"`
	// The ID of the AMI used to launch the instance.
	ImageId *string `pulumi:"imageId"`
	// The type of instance determines your instance's CPU capacity, memory and storage (e.g., m1.small, c1.xlarge).
	InstanceTypesOndemand string `pulumi:"instanceTypesOndemand"`
	// Prioritize a subset of spot instance types. Must be a subset of the selected spot instance types.
	InstanceTypesPreferredSpots []string `pulumi:"instanceTypesPreferredSpots"`
	// One or more instance types.
	InstanceTypesSpots []string `pulumi:"instanceTypesSpots"`
	// List of weights per instance type for weighted groups. Each object in the list should have the following attributes:
	InstanceTypesWeights []ElastigroupInstanceTypesWeight `pulumi:"instanceTypesWeights"`
	IntegrationBeanstalk *ElastigroupIntegrationBeanstalk `pulumi:"integrationBeanstalk"`
	// Describes the [Code Deploy](https://aws.amazon.com/documentation/codedeploy/?id=docs_gateway) integration.
	IntegrationCodedeploy *ElastigroupIntegrationCodedeploy `pulumi:"integrationCodedeploy"`
	// Describes the [Docker Swarm](https://api.spotinst.com/integration-docs/elastigroup/container-management/docker-swarm/docker-swarm-integration/) integration.
	IntegrationDockerSwarm *ElastigroupIntegrationDockerSwarm `pulumi:"integrationDockerSwarm"`
	// Describes the [EC2 Container Service](https://aws.amazon.com/documentation/ecs/?id=docs_gateway) integration.
	IntegrationEcs *ElastigroupIntegrationEcs `pulumi:"integrationEcs"`
	// Describes the [Gitlab](https://api.spotinst.com/integration-docs/gitlab/) integration.
	IntegrationGitlab *ElastigroupIntegrationGitlab `pulumi:"integrationGitlab"`
	// Describes the [Kubernetes](https://kubernetes.io/) integration.
	IntegrationKubernetes *ElastigroupIntegrationKubernetes `pulumi:"integrationKubernetes"`
	// Describes the [Mesosphere](https://mesosphere.com/) integration.
	IntegrationMesosphere *ElastigroupIntegrationMesosphere `pulumi:"integrationMesosphere"`
	// Describes the [Multai Runtime](https://spotinst.com/) integration.
	IntegrationMultaiRuntime *ElastigroupIntegrationMultaiRuntime `pulumi:"integrationMultaiRuntime"`
	// Describes the [Nomad](https://www.nomadproject.io/) integration.
	IntegrationNomad *ElastigroupIntegrationNomad `pulumi:"integrationNomad"`
	// Describes the [Rancher](http://rancherlabs.com/) integration.
	IntegrationRancher *ElastigroupIntegrationRancher `pulumi:"integrationRancher"`
	// Describes the [Route53](https://aws.amazon.com/documentation/route53/?id=docs_gateway) integration.
	IntegrationRoute53 *ElastigroupIntegrationRoute53 `pulumi:"integrationRoute53"`
	// The key name that should be used for the instance.
	KeyName        *string `pulumi:"keyName"`
	LifetimePeriod *string `pulumi:"lifetimePeriod"`
	// The maximum number of instances the group should have at any time.
	MaxSize *int `pulumi:"maxSize"`
	// Data that used to configure or manage the running instances:
	MetadataOptions *ElastigroupMetadataOptions `pulumi:"metadataOptions"`
	// The minimum number of instances the group should have at any time.
	MinSize *int `pulumi:"minSize"`
	// Defines the preferred minimum instance lifetime in hours. Markets which comply with this preference will be prioritized. Optional values: 1, 3, 6, 12, 24.
	MinimumInstanceLifetime *int `pulumi:"minimumInstanceLifetime"`
	// Set of targets to register.
	MultaiTargetSets []ElastigroupMultaiTargetSet `pulumi:"multaiTargetSets"`
	MultipleMetrics  *ElastigroupMultipleMetrics  `pulumi:"multipleMetrics"`
	// The record set name.
	Name              *string                       `pulumi:"name"`
	NetworkInterfaces []ElastigroupNetworkInterface `pulumi:"networkInterfaces"`
	// Number of on demand instances to launch in the group. All other instances will be spot instances. When this parameter is set the `spotPercentage` parameter is being ignored.
	OndemandCount *int `pulumi:"ondemandCount"`
	// Select a prediction strategy. Valid values: `balanced`, `costOriented`, `equalAzDistribution`, `availabilityOriented`. You can read more in our documentation.
	Orientation string `pulumi:"orientation"`
	// Boolean, should the instance maintain its Data volumes.
	PersistBlockDevices *bool `pulumi:"persistBlockDevices"`
	// Boolean, should the instance maintain its private IP.
	PersistPrivateIp *bool `pulumi:"persistPrivateIp"`
	// Boolean, should the instance maintain its root device volumes.
	PersistRootDevice *bool `pulumi:"persistRootDevice"`
	// Enable dedicated tenancy. Note: There is a flat hourly fee for each region in which dedicated tenancy is used. Valid values: "default", "dedicated" .
	PlacementTenancy *string `pulumi:"placementTenancy"`
	// The AZs to prioritize when launching Spot instances. If no markets are available in the Preferred AZs, Spot instances are launched in the non-preferred AZs.
	// Note: Must be a sublist of `availabilityZones` and `orientation` value must not be `"equalAzDistribution"`.
	PreferredAvailabilityZones []string `pulumi:"preferredAvailabilityZones"`
	// List of Private IPs to associate to the group instances.(e.g. "172.1.1.0"). Please note: This setting will only apply if persistence.persist_private_ip is set to true.
	PrivateIps []string `pulumi:"privateIps"`
	// Operation system type. Valid values: `"Linux/UNIX"`, `"SUSE Linux"`, `"Windows"`.
	// For EC2 Classic instances:  `"Linux/UNIX (Amazon VPC)"`, `"SUSE Linux (Amazon VPC)"`, `"Windows (Amazon VPC)"`.
	Product string `pulumi:"product"`
	// The AWS region your group will be created in.
	// Note: This parameter is required if you specify subnets (through subnet_ids). This parameter is optional if you specify Availability Zones (through availability_zones).
	Region *string `pulumi:"region"`
	// User will specify which resources should be tagged with group tags.
	ResourceTagSpecifications []ElastigroupResourceTagSpecification `pulumi:"resourceTagSpecifications"`
	// Hold settings for strategy correction – replacing On-Demand for Spot instances. Supported Values: `"never"`, `"always"`, `"timeWindow"`
	RevertToSpot        *ElastigroupRevertToSpot       `pulumi:"revertToSpot"`
	ScalingDownPolicies []ElastigroupScalingDownPolicy `pulumi:"scalingDownPolicies"`
	// Set termination policy.
	ScalingStrategies     []ElastigroupScalingStrategy     `pulumi:"scalingStrategies"`
	ScalingTargetPolicies []ElastigroupScalingTargetPolicy `pulumi:"scalingTargetPolicies"`
	ScalingUpPolicies     []ElastigroupScalingUpPolicy     `pulumi:"scalingUpPolicies"`
	ScheduledTasks        []ElastigroupScheduledTask       `pulumi:"scheduledTasks"`
	// A list of associated security group IDS.
	SecurityGroups []string `pulumi:"securityGroups"`
	// The Base64-encoded shutdown script that executes prior to instance termination, for more information please see: [Shutdown Script](https://api.spotinst.com/integration-docs/elastigroup/concepts/compute-concepts/shutdown-scripts/)
	ShutdownScript *string             `pulumi:"shutdownScript"`
	Signals        []ElastigroupSignal `pulumi:"signals"`
	// The percentage of Spot instances that would spin up from the `desiredCapacity` number.
	SpotPercentage          *int                                `pulumi:"spotPercentage"`
	StatefulDeallocation    *ElastigroupStatefulDeallocation    `pulumi:"statefulDeallocation"`
	StatefulInstanceActions []ElastigroupStatefulInstanceAction `pulumi:"statefulInstanceActions"`
	// List of Strings of subnet identifiers.
	// Note: When this parameter is set, `availabilityZones` should be left unused.
	SubnetIds []string `pulumi:"subnetIds"`
	// A key/value mapping of tags to assign to the resource.
	Tags []ElastigroupTag `pulumi:"tags"`
	// List of Target Group ARNs to register the instances to.
	TargetGroupArns []string                 `pulumi:"targetGroupArns"`
	UpdatePolicy    *ElastigroupUpdatePolicy `pulumi:"updatePolicy"`
	// The user data to provide when launching the instance.
	UserData           *string `pulumi:"userData"`
	UtilizeCommitments *bool   `pulumi:"utilizeCommitments"`
	// In a case of any available reserved instances, Elastigroup will utilize them first before purchasing Spot instances.
	UtilizeReservedInstances *bool `pulumi:"utilizeReservedInstances"`
	// Minimum number of instances in a 'HEALTHY' status that is required before continuing. This is ignored when updating with blue/green deployment. Cannot exceed `desiredCapacity`.
	WaitForCapacity *int `pulumi:"waitForCapacity"`
	// Time (seconds) to wait for instances to report a 'HEALTHY' status. Useful for plans with multiple dependencies that take some time to initialize. Leave undefined or set to `0` to indicate no wait. This is ignored when updating with blue/green deployment.
	WaitForCapacityTimeout *int `pulumi:"waitForCapacityTimeout"`
}

// The set of arguments for constructing a Elastigroup resource.
type ElastigroupArgs struct {
	// List of Strings of availability zones. When this parameter is set, `subnetIds` should be left unused.
	// Note: `availabilityZones` naming syntax follows the convention `availability-zone:subnet:placement-group-name`. For example, to set an AZ in `us-east-1` with subnet `subnet-123456` and placement group `ClusterI03`, you would set:
	// `availabilityZones = ["us-east-1a:subnet-123456:ClusterI03"]`
	AvailabilityZones pulumi.StringArrayInput
	// String, determine the way we attach the data volumes to the data devices, possible values: `"reattach"` and `"onLaunch"` (default is onLaunch).
	BlockDevicesMode pulumi.StringPtrInput
	// The capacity unit to launch instances by. If not specified, when choosing the weight unit, each instance will weight as the number of its vCPUs. Valid values: `instance`, `weight`.
	CapacityUnit pulumi.StringPtrInput
	// Controls how T3 instances are launched. Valid values: `standard`, `unlimited`.
	CpuCredits pulumi.StringPtrInput
	// The CPU options for the instances that are launched within the group:
	CpuOptions ElastigroupCpuOptionsPtrInput
	// The description of the network interface.
	Description pulumi.StringPtrInput
	// The desired number of instances the group should have at any time.
	DesiredCapacity pulumi.IntPtrInput
	// Indicates (in seconds) the timeout to wait until instance are detached.
	DrainingTimeout pulumi.IntPtrInput
	EbsBlockDevices ElastigroupEbsBlockDeviceArrayInput
	// Enable high bandwidth connectivity between instances and AWS’s Elastic Block Store (EBS). For instance types that are EBS-optimized by default this parameter will be ignored.
	EbsOptimized pulumi.BoolPtrInput
	// A list of [AWS Elastic IP](http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html) allocation IDs to associate to the group instances.
	ElasticIps pulumi.StringArrayInput
	// List of Elastic Load Balancers names (ELB).
	ElasticLoadBalancers pulumi.StringArrayInput
	// Indicates whether monitoring is enabled for the instance.
	EnableMonitoring      pulumi.BoolPtrInput
	EphemeralBlockDevices ElastigroupEphemeralBlockDeviceArrayInput
	// In a case of no Spot instances available, Elastigroup will launch on-demand instances instead.
	FallbackToOndemand pulumi.BoolInput
	// The amount of time, in seconds, after the instance has launched to starts and check its health
	HealthCheckGracePeriod pulumi.IntPtrInput
	// Sets the health check type to use. Valid values: `"EC2"`, `"ECS_CLUSTER_INSTANCE"`, `"ELB"`, `"HCS"`, `"MLB"`, `"TARGET_GROUP"`, `"MULTAI_TARGET_SET"`, `"NONE"`.
	HealthCheckType pulumi.StringPtrInput
	// The amount of time, in seconds, that we will wait before replacing an instance that is running and became unhealthy (this is only applicable for instances that were once healthy)
	HealthCheckUnhealthyDurationBeforeReplacement pulumi.IntPtrInput
	// The ARN or name of an IAM instance profile to associate with launched instances.
	IamInstanceProfile pulumi.StringPtrInput
	// The ID of the AMI used to launch the instance.
	ImageId pulumi.StringPtrInput
	// The type of instance determines your instance's CPU capacity, memory and storage (e.g., m1.small, c1.xlarge).
	InstanceTypesOndemand pulumi.StringInput
	// Prioritize a subset of spot instance types. Must be a subset of the selected spot instance types.
	InstanceTypesPreferredSpots pulumi.StringArrayInput
	// One or more instance types.
	InstanceTypesSpots pulumi.StringArrayInput
	// List of weights per instance type for weighted groups. Each object in the list should have the following attributes:
	InstanceTypesWeights ElastigroupInstanceTypesWeightArrayInput
	IntegrationBeanstalk ElastigroupIntegrationBeanstalkPtrInput
	// Describes the [Code Deploy](https://aws.amazon.com/documentation/codedeploy/?id=docs_gateway) integration.
	IntegrationCodedeploy ElastigroupIntegrationCodedeployPtrInput
	// Describes the [Docker Swarm](https://api.spotinst.com/integration-docs/elastigroup/container-management/docker-swarm/docker-swarm-integration/) integration.
	IntegrationDockerSwarm ElastigroupIntegrationDockerSwarmPtrInput
	// Describes the [EC2 Container Service](https://aws.amazon.com/documentation/ecs/?id=docs_gateway) integration.
	IntegrationEcs ElastigroupIntegrationEcsPtrInput
	// Describes the [Gitlab](https://api.spotinst.com/integration-docs/gitlab/) integration.
	IntegrationGitlab ElastigroupIntegrationGitlabPtrInput
	// Describes the [Kubernetes](https://kubernetes.io/) integration.
	IntegrationKubernetes ElastigroupIntegrationKubernetesPtrInput
	// Describes the [Mesosphere](https://mesosphere.com/) integration.
	IntegrationMesosphere ElastigroupIntegrationMesospherePtrInput
	// Describes the [Multai Runtime](https://spotinst.com/) integration.
	IntegrationMultaiRuntime ElastigroupIntegrationMultaiRuntimePtrInput
	// Describes the [Nomad](https://www.nomadproject.io/) integration.
	IntegrationNomad ElastigroupIntegrationNomadPtrInput
	// Describes the [Rancher](http://rancherlabs.com/) integration.
	IntegrationRancher ElastigroupIntegrationRancherPtrInput
	// Describes the [Route53](https://aws.amazon.com/documentation/route53/?id=docs_gateway) integration.
	IntegrationRoute53 ElastigroupIntegrationRoute53PtrInput
	// The key name that should be used for the instance.
	KeyName        pulumi.StringPtrInput
	LifetimePeriod pulumi.StringPtrInput
	// The maximum number of instances the group should have at any time.
	MaxSize pulumi.IntPtrInput
	// Data that used to configure or manage the running instances:
	MetadataOptions ElastigroupMetadataOptionsPtrInput
	// The minimum number of instances the group should have at any time.
	MinSize pulumi.IntPtrInput
	// Defines the preferred minimum instance lifetime in hours. Markets which comply with this preference will be prioritized. Optional values: 1, 3, 6, 12, 24.
	MinimumInstanceLifetime pulumi.IntPtrInput
	// Set of targets to register.
	MultaiTargetSets ElastigroupMultaiTargetSetArrayInput
	MultipleMetrics  ElastigroupMultipleMetricsPtrInput
	// The record set name.
	Name              pulumi.StringPtrInput
	NetworkInterfaces ElastigroupNetworkInterfaceArrayInput
	// Number of on demand instances to launch in the group. All other instances will be spot instances. When this parameter is set the `spotPercentage` parameter is being ignored.
	OndemandCount pulumi.IntPtrInput
	// Select a prediction strategy. Valid values: `balanced`, `costOriented`, `equalAzDistribution`, `availabilityOriented`. You can read more in our documentation.
	Orientation pulumi.StringInput
	// Boolean, should the instance maintain its Data volumes.
	PersistBlockDevices pulumi.BoolPtrInput
	// Boolean, should the instance maintain its private IP.
	PersistPrivateIp pulumi.BoolPtrInput
	// Boolean, should the instance maintain its root device volumes.
	PersistRootDevice pulumi.BoolPtrInput
	// Enable dedicated tenancy. Note: There is a flat hourly fee for each region in which dedicated tenancy is used. Valid values: "default", "dedicated" .
	PlacementTenancy pulumi.StringPtrInput
	// The AZs to prioritize when launching Spot instances. If no markets are available in the Preferred AZs, Spot instances are launched in the non-preferred AZs.
	// Note: Must be a sublist of `availabilityZones` and `orientation` value must not be `"equalAzDistribution"`.
	PreferredAvailabilityZones pulumi.StringArrayInput
	// List of Private IPs to associate to the group instances.(e.g. "172.1.1.0"). Please note: This setting will only apply if persistence.persist_private_ip is set to true.
	PrivateIps pulumi.StringArrayInput
	// Operation system type. Valid values: `"Linux/UNIX"`, `"SUSE Linux"`, `"Windows"`.
	// For EC2 Classic instances:  `"Linux/UNIX (Amazon VPC)"`, `"SUSE Linux (Amazon VPC)"`, `"Windows (Amazon VPC)"`.
	Product pulumi.StringInput
	// The AWS region your group will be created in.
	// Note: This parameter is required if you specify subnets (through subnet_ids). This parameter is optional if you specify Availability Zones (through availability_zones).
	Region pulumi.StringPtrInput
	// User will specify which resources should be tagged with group tags.
	ResourceTagSpecifications ElastigroupResourceTagSpecificationArrayInput
	// Hold settings for strategy correction – replacing On-Demand for Spot instances. Supported Values: `"never"`, `"always"`, `"timeWindow"`
	RevertToSpot        ElastigroupRevertToSpotPtrInput
	ScalingDownPolicies ElastigroupScalingDownPolicyArrayInput
	// Set termination policy.
	ScalingStrategies     ElastigroupScalingStrategyArrayInput
	ScalingTargetPolicies ElastigroupScalingTargetPolicyArrayInput
	ScalingUpPolicies     ElastigroupScalingUpPolicyArrayInput
	ScheduledTasks        ElastigroupScheduledTaskArrayInput
	// A list of associated security group IDS.
	SecurityGroups pulumi.StringArrayInput
	// The Base64-encoded shutdown script that executes prior to instance termination, for more information please see: [Shutdown Script](https://api.spotinst.com/integration-docs/elastigroup/concepts/compute-concepts/shutdown-scripts/)
	ShutdownScript pulumi.StringPtrInput
	Signals        ElastigroupSignalArrayInput
	// The percentage of Spot instances that would spin up from the `desiredCapacity` number.
	SpotPercentage          pulumi.IntPtrInput
	StatefulDeallocation    ElastigroupStatefulDeallocationPtrInput
	StatefulInstanceActions ElastigroupStatefulInstanceActionArrayInput
	// List of Strings of subnet identifiers.
	// Note: When this parameter is set, `availabilityZones` should be left unused.
	SubnetIds pulumi.StringArrayInput
	// A key/value mapping of tags to assign to the resource.
	Tags ElastigroupTagArrayInput
	// List of Target Group ARNs to register the instances to.
	TargetGroupArns pulumi.StringArrayInput
	UpdatePolicy    ElastigroupUpdatePolicyPtrInput
	// The user data to provide when launching the instance.
	UserData           pulumi.StringPtrInput
	UtilizeCommitments pulumi.BoolPtrInput
	// In a case of any available reserved instances, Elastigroup will utilize them first before purchasing Spot instances.
	UtilizeReservedInstances pulumi.BoolPtrInput
	// Minimum number of instances in a 'HEALTHY' status that is required before continuing. This is ignored when updating with blue/green deployment. Cannot exceed `desiredCapacity`.
	WaitForCapacity pulumi.IntPtrInput
	// Time (seconds) to wait for instances to report a 'HEALTHY' status. Useful for plans with multiple dependencies that take some time to initialize. Leave undefined or set to `0` to indicate no wait. This is ignored when updating with blue/green deployment.
	WaitForCapacityTimeout pulumi.IntPtrInput
}

func (ElastigroupArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*elastigroupArgs)(nil)).Elem()
}

type ElastigroupInput interface {
	pulumi.Input

	ToElastigroupOutput() ElastigroupOutput
	ToElastigroupOutputWithContext(ctx context.Context) ElastigroupOutput
}

func (*Elastigroup) ElementType() reflect.Type {
	return reflect.TypeOf((*Elastigroup)(nil))
}

func (i *Elastigroup) ToElastigroupOutput() ElastigroupOutput {
	return i.ToElastigroupOutputWithContext(context.Background())
}

func (i *Elastigroup) ToElastigroupOutputWithContext(ctx context.Context) ElastigroupOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ElastigroupOutput)
}

func (i *Elastigroup) ToElastigroupPtrOutput() ElastigroupPtrOutput {
	return i.ToElastigroupPtrOutputWithContext(context.Background())
}

func (i *Elastigroup) ToElastigroupPtrOutputWithContext(ctx context.Context) ElastigroupPtrOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ElastigroupPtrOutput)
}

type ElastigroupPtrInput interface {
	pulumi.Input

	ToElastigroupPtrOutput() ElastigroupPtrOutput
	ToElastigroupPtrOutputWithContext(ctx context.Context) ElastigroupPtrOutput
}

type elastigroupPtrType ElastigroupArgs

func (*elastigroupPtrType) ElementType() reflect.Type {
	return reflect.TypeOf((**Elastigroup)(nil))
}

func (i *elastigroupPtrType) ToElastigroupPtrOutput() ElastigroupPtrOutput {
	return i.ToElastigroupPtrOutputWithContext(context.Background())
}

func (i *elastigroupPtrType) ToElastigroupPtrOutputWithContext(ctx context.Context) ElastigroupPtrOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ElastigroupPtrOutput)
}

// ElastigroupArrayInput is an input type that accepts ElastigroupArray and ElastigroupArrayOutput values.
// You can construct a concrete instance of `ElastigroupArrayInput` via:
//
//          ElastigroupArray{ ElastigroupArgs{...} }
type ElastigroupArrayInput interface {
	pulumi.Input

	ToElastigroupArrayOutput() ElastigroupArrayOutput
	ToElastigroupArrayOutputWithContext(context.Context) ElastigroupArrayOutput
}

type ElastigroupArray []ElastigroupInput

func (ElastigroupArray) ElementType() reflect.Type {
	return reflect.TypeOf(([]*Elastigroup)(nil))
}

func (i ElastigroupArray) ToElastigroupArrayOutput() ElastigroupArrayOutput {
	return i.ToElastigroupArrayOutputWithContext(context.Background())
}

func (i ElastigroupArray) ToElastigroupArrayOutputWithContext(ctx context.Context) ElastigroupArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ElastigroupArrayOutput)
}

// ElastigroupMapInput is an input type that accepts ElastigroupMap and ElastigroupMapOutput values.
// You can construct a concrete instance of `ElastigroupMapInput` via:
//
//          ElastigroupMap{ "key": ElastigroupArgs{...} }
type ElastigroupMapInput interface {
	pulumi.Input

	ToElastigroupMapOutput() ElastigroupMapOutput
	ToElastigroupMapOutputWithContext(context.Context) ElastigroupMapOutput
}

type ElastigroupMap map[string]ElastigroupInput

func (ElastigroupMap) ElementType() reflect.Type {
	return reflect.TypeOf((map[string]*Elastigroup)(nil))
}

func (i ElastigroupMap) ToElastigroupMapOutput() ElastigroupMapOutput {
	return i.ToElastigroupMapOutputWithContext(context.Background())
}

func (i ElastigroupMap) ToElastigroupMapOutputWithContext(ctx context.Context) ElastigroupMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ElastigroupMapOutput)
}

type ElastigroupOutput struct {
	*pulumi.OutputState
}

func (ElastigroupOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*Elastigroup)(nil))
}

func (o ElastigroupOutput) ToElastigroupOutput() ElastigroupOutput {
	return o
}

func (o ElastigroupOutput) ToElastigroupOutputWithContext(ctx context.Context) ElastigroupOutput {
	return o
}

func (o ElastigroupOutput) ToElastigroupPtrOutput() ElastigroupPtrOutput {
	return o.ToElastigroupPtrOutputWithContext(context.Background())
}

func (o ElastigroupOutput) ToElastigroupPtrOutputWithContext(ctx context.Context) ElastigroupPtrOutput {
	return o.ApplyT(func(v Elastigroup) *Elastigroup {
		return &v
	}).(ElastigroupPtrOutput)
}

type ElastigroupPtrOutput struct {
	*pulumi.OutputState
}

func (ElastigroupPtrOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**Elastigroup)(nil))
}

func (o ElastigroupPtrOutput) ToElastigroupPtrOutput() ElastigroupPtrOutput {
	return o
}

func (o ElastigroupPtrOutput) ToElastigroupPtrOutputWithContext(ctx context.Context) ElastigroupPtrOutput {
	return o
}

type ElastigroupArrayOutput struct{ *pulumi.OutputState }

func (ElastigroupArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]Elastigroup)(nil))
}

func (o ElastigroupArrayOutput) ToElastigroupArrayOutput() ElastigroupArrayOutput {
	return o
}

func (o ElastigroupArrayOutput) ToElastigroupArrayOutputWithContext(ctx context.Context) ElastigroupArrayOutput {
	return o
}

func (o ElastigroupArrayOutput) Index(i pulumi.IntInput) ElastigroupOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) Elastigroup {
		return vs[0].([]Elastigroup)[vs[1].(int)]
	}).(ElastigroupOutput)
}

type ElastigroupMapOutput struct{ *pulumi.OutputState }

func (ElastigroupMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]Elastigroup)(nil))
}

func (o ElastigroupMapOutput) ToElastigroupMapOutput() ElastigroupMapOutput {
	return o
}

func (o ElastigroupMapOutput) ToElastigroupMapOutputWithContext(ctx context.Context) ElastigroupMapOutput {
	return o
}

func (o ElastigroupMapOutput) MapIndex(k pulumi.StringInput) ElastigroupOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) Elastigroup {
		return vs[0].(map[string]Elastigroup)[vs[1].(string)]
	}).(ElastigroupOutput)
}

func init() {
	pulumi.RegisterOutputType(ElastigroupOutput{})
	pulumi.RegisterOutputType(ElastigroupPtrOutput{})
	pulumi.RegisterOutputType(ElastigroupArrayOutput{})
	pulumi.RegisterOutputType(ElastigroupMapOutput{})
}
